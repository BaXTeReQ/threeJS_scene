{"version":3,"sources":["global.js","groups.js","grass.js","sidewalk.js","street.js","lamp.js","lantern.js","trafficLight.js","tree0.js","tree1.js","house.js","render.js"],"names":["scene","THREE","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","renderer","WebGLRenderer","setClearColor","Color","setSize","shadowMap","enabled","type","PCFSoftShadowMap","controls","OrbitControls","domElement","document","getElementById","appendChild","textureLoader","TextureLoader","daySpotLight","SpotLight","shadow","mapSize","width","height","angle","Math","PI","castShadow","add","daySpotLightHelper","SpotLightHelper","ambientLight","AmbientLight","nightSpotLight","nightSpotLightHelper","lanternSingle","Group","trafficLightSingle","lampSingle","buildingSingle","buildingsGroup","tree0Single","tree1Single","grassGeometry","BoxGeometry","grassMaterial","MeshStandardMaterial","color","grassBase","Mesh","receiveShadow","grassArray","Array","i","clone","scale","sidewalkGeometry","sidewalkMaterial","sidewalkBase","sidewalksArray","rotateY","pow","roadTexture1","load","roadTexture2","streetGeometry","streetMaterial1","map","side","DoubleSide","streetMaterial2","streetBase1","streetBase2","streetsArray","lampBaseGeometry","CylinderGeometry","lampBaseMaterial","lampMiddleMaterial","opacity","transparent","lampBase","lampMiddle","lampUpper","lampsArray","j","children","lanternBottomGeometry","lanternBaseGeometry","lanternUpperGeometry","lanternMaterial","lanternBottom","lanternBase","lanternUpper","rotateX","lanternBulb","lanternLightGeometry","lanternLightMaterial","MeshBasicMaterial","lanternLight","lanternsArray","lanternsBulbsArray","target","translateX","trafficLightUpperGeometry","trafficLightHeadGeometry1","trafficLightHeadGeometry2","PlaneGeometry","trafficLightCylinderGeometry","trafficLightHeadMaterial","trafficLightRedMaterial","trafficLightYellowMaterial","trafficLightGreenMaterial","trafficLightBottom","trafficLightBase","trafficLightUpper","trafficLightHead1","trafficLightHead2","trafficLightRed","trafficLightYellow","trafficLightGreen","trafficLightArray","a","rotateZ","woodGeometry","woodMaterial","woodBase","leavesGeometry0","leavesGeometry1","leavesMaterial0","leavesBase0","tree0Leaves0","tree0Leaves1","tree0Leaves2","tree0Leaves3","tree0","geometry","forEach","element","tree0Array","leavesGeometry2","IcosahedronGeometry","leavesBase1","tree1Leaves0","tree1","tree1Array","random","wallGeometry0","wallGeometry1","wallGeometry2","floorGeometry","windowGeometry","roofGeometry","BufferGeometry","vertices","Float32Array","setAttribute","BufferAttribute","computeVertexNormals","floorMaterial","windowMaterial","wallMaterials","roofMaterials","wall0","wall1","wall2","wall3","wall4","wall5","wall6","wall7","wall8","wall9","wall10","wall11","floor0","floor1","window0","window1","roof0","buildingArray","material","render","animate","requestAnimationFrame","y","x","intensity","lanternsOn","lanternsOff","update","e"],"mappings":"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","file":"../site.js","sourcesContent":["//GLOBAL.JS\r\n\r\n/* create a scene, that will hold all our elements such as objects, cameras and lights. */\r\nconst scene = new THREE.Scene();\r\n\r\n/* create a camera, which defines where we're looking at. */\r\nconst camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n\r\n/* position and point the camera to the center of the scene */\r\ncamera.position.set(35, 35, -35);\r\n// camera.position.set(15, 15, -15)\r\n// camera.position.set(5, 5, 15)\r\n\r\n/* create a render and set the size */\r\nconst renderer = new THREE.WebGLRenderer();\r\n\r\n// renderer.setClearColor(new THREE.Color(0xdddddd));\r\nrenderer.setClearColor(new THREE.Color(0x222222));\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\nrenderer.shadowMap.enabled = true;\r\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n\r\n/* add OrbitControls */\r\nconst controls = new THREE.OrbitControls(camera, renderer.domElement);\r\n\r\n/* add the output of the renderer to the html element */\r\ndocument.getElementById(\"WebGL-output\").appendChild(renderer.domElement);\r\n\r\n/* texture loader */\r\nconst textureLoader = new THREE.TextureLoader();\r\n\r\n/* day light */\r\nconst daySpotLight = new THREE.SpotLight(0xfdfbd3, .5)\r\ndaySpotLight.position.set(0, 100, 0);\r\ndaySpotLight.shadow.mapSize.width = 2048;\r\ndaySpotLight.shadow.mapSize.height = 2048;\r\ndaySpotLight.angle = Math.PI / 4;\r\ndaySpotLight.castShadow = true;\r\nscene.add(daySpotLight);\r\n\r\nconst daySpotLightHelper = new THREE.SpotLightHelper(daySpotLight);\r\nscene.add(daySpotLightHelper)\r\n\r\n/* add ambient light for better effect */\r\nconst ambientLight = new THREE.AmbientLight(0x494949, .5);\r\nscene.add(ambientLight);\r\n\r\n/* night light */\r\nconst nightSpotLight = new THREE.SpotLight(0xa5b1c2, .25)\r\nnightSpotLight.position.set(0, -100, 0);\r\nnightSpotLight.shadow.mapSize.width = 2048;\r\nnightSpotLight.shadow.mapSize.height = 2048;\r\nnightSpotLight.angle = Math.PI / 4;\r\nnightSpotLight.castShadow = true;\r\n// scene.add(nightSpotLight);\r\n\r\nconst nightSpotLightHelper = new THREE.SpotLightHelper(nightSpotLight);\r\nscene.add(nightSpotLightHelper)\r\n\r\n/* add ambient light for better effect */\r\n// const nightAmbientLight = new THREE.AmbientLight(0x000000);\r\n// scene.add(nightAmbientLight)","/* GROUPS.JS */\r\n\r\n/* groups for objects */\r\nconst lanternSingle = new THREE.Group();\r\nconst trafficLightSingle = new THREE.Group();\r\nconst lampSingle = new THREE.Group();\r\nconst buildingSingle = new THREE.Group();\r\nconst buildingsGroup = new THREE.Group();\r\nconst tree0Single = new THREE.Group();\r\nconst tree1Single = new THREE.Group();","/* GRASS.JS */\r\n\r\nconst grassGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\nconst grassMaterial = new THREE.MeshStandardMaterial({ color: 0x27ae60 });\r\nconst grassBase = new THREE.Mesh(grassGeometry, grassMaterial);\r\ngrassBase.receiveShadow = true;\r\n\r\nconst grassArray = new Array();\r\n\r\nfor (let i = 0; i < 5; i++) {\r\n    grassArray[i] = grassBase.clone();\r\n    if (i < 2) {\r\n        grassArray[i].scale.set(25, 1, 20)\r\n        grassArray[i].position.set(22.5, 0, 20)\r\n        if (i % 2 != 0)\r\n            grassArray[i].position.set(-22.5, 0, 20)\r\n    }\r\n    else {\r\n        grassArray[i].scale.set(20, 1, 20)\r\n        grassArray[i].position.set(i * -25 + 75, 0, -20)\r\n    }\r\n    scene.add(grassArray[i])\r\n}","/* SIDEWALK.JS */\r\n\r\n/* base sidewalk object */\r\nconst sidewalkGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\nconst sidewalkMaterial = new THREE.MeshStandardMaterial({ color: 0xf7f1e3 });\r\nconst sidewalkBase = new THREE.Mesh(sidewalkGeometry, sidewalkMaterial);\r\nsidewalkBase.receiveShadow = true;\r\n\r\n/* Array for sidewalks */\r\nconst sidewalksArray = new Array();\r\n\r\nfor (let i = 0; i < 7; i++) {\r\n    /* cloning base sidewalk */\r\n    sidewalksArray[i] = sidewalkBase.clone();\r\n    /* sidewalks close to houses */\r\n    if (i < 4) {\r\n        sidewalksArray[i].scale.set(20, 2, 5)\r\n        sidewalksArray[i].rotateY(Math.PI / 2)\r\n        if (i < 2) {\r\n            sidewalksArray[i].position.set(7.5 * Math.pow(-1, i), .05, 20)\r\n        } else {\r\n            sidewalksArray[i].position.set(12.5 * Math.pow(-1, i), .05, -20)\r\n        }\r\n        /* main long sidewalk */\r\n    } else if (i > 5) {\r\n        sidewalksArray[i].scale.set(70, 2, 5)\r\n        sidewalksArray[i].position.set(0, 0.05, -7.5)\r\n        /* other main sidewalks */\r\n    } else {\r\n        sidewalksArray[i].scale.set(30, 2, 5)\r\n        sidewalksArray[i].position.set(20 * Math.pow(-1, i), .05, 7.5)\r\n    }\r\n    /* adding all sidewalks to scene */\r\n    scene.add(sidewalksArray[i])\r\n}","//STREET.JS\r\n\r\nconst roadTexture1 = textureLoader.load('../ProjektGrafika/textures/road1.png');\r\nconst roadTexture2 = textureLoader.load('../ProjektGrafika/textures/road2.png');\r\n\r\n/* base street object */\r\nconst streetGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\nconst streetMaterial1 = new THREE.MeshStandardMaterial({ /* color: 0x34495e */color: 0xffffff, map: roadTexture1, side: THREE.DoubleSide});\r\nconst streetMaterial2 = new THREE.MeshStandardMaterial({ /* color: 0x34495e */color: 0xffffff, map: roadTexture2, side: THREE.DoubleSide});\r\nconst streetBase1 = new THREE.Mesh(streetGeometry, streetMaterial1);\r\nconst streetBase2 = new THREE.Mesh(streetGeometry, streetMaterial2);\r\nstreetBase1.receiveShadow = true;\r\n\r\n\r\nconst streetsArray = new Array();\r\n\r\nstreetsArray[0] = streetBase1.clone();\r\nstreetsArray[0].position.set(0, 0, 17.5);\r\nstreetsArray[0].scale.set(10, 1, 25);\r\n\r\nstreetsArray[1] = streetBase2.clone();\r\nstreetsArray[1].position.set(0, 0, 0);\r\nstreetsArray[1].scale.set(10, 1, 70);\r\nstreetsArray[1].rotateY(Math.PI/2)\r\n\r\n\r\n\r\nscene.add(streetsArray[0], streetsArray[1])\r\n\r\n// streetsArray[0] = streetBase.clone();\r\n\r\n\r\n// for (let i = 0; i < 2; i++) {\r\n//     streetsArray[i] = streetBase.clone();\r\n//     streetsArray[i].scale.set(70, 1, 10)\r\n//     if (i == 1) {\r\n//         streetsArray[i].scale.set(10, 1, 25)\r\n//         streetsArray[i].position.set(0, 0, 17.5)\r\n//     }\r\n//     scene.add(streetsArray[i])\r\n// }","/* LAMP.JS */\r\n\r\nconst lampBaseGeometry = new THREE.CylinderGeometry(1, 1, 7, 32);\r\nconst lampBaseMaterial = new THREE.MeshStandardMaterial({ color: 0x95a5a6 });\r\nconst lampMiddleMaterial = new THREE.MeshStandardMaterial({ color: 0xffffff, opacity: .5, transparent: true });\r\nconst lampBase = new THREE.Mesh(lampBaseGeometry, lampBaseMaterial);\r\nconst lampMiddle = new THREE.Mesh(lampBaseGeometry, lampMiddleMaterial)\r\nconst lampUpper = new THREE.Mesh(lampBaseGeometry, lampBaseMaterial)\r\n\r\nlampBase.position.set(0, 0, 0);\r\n\r\nlampMiddle.scale.set(1, .2, 1)\r\nlampMiddle.position.set(0, 4.2, 0)\r\n\r\nlampUpper.scale.set(1, .1, 1)\r\nlampUpper.position.set(0, 5.25, 0)\r\n\r\nlampSingle.add(lampBase, lampMiddle, lampUpper)\r\n\r\nconst lampsArray = new Array();\r\n\r\nfor (let i = 0; i < 6; i++) {\r\n    lampsArray[i] = lampSingle.clone()\r\n    lampsArray[i].scale.set(.2, .2, .2)\r\n    for (let j = 0; j < 3; j++) {\r\n        lampsArray[i].children[j].castShadow = true\r\n        lampsArray[i].children[j].receiveShadow = true\r\n    }\r\n    if (i < 3) lampsArray[i].position.set(12.5, .8, -15 - (5 * i))\r\n    else lampsArray[i].position.set(-12.5, .8, -5 * i)\r\n    scene.add(lampsArray[i])\r\n}","/* LANTERN.JS */\r\n\r\nconst lanternBottomGeometry = new THREE.CylinderGeometry(2, 5, 20, 32);\r\nconst lanternBaseGeometry = new THREE.CylinderGeometry(1.5, 1.5, 100, 32);\r\nconst lanternUpperGeometry = new THREE.BoxGeometry(7.5, 2, 12.5);\r\nconst lanternMaterial = new THREE.MeshStandardMaterial({ color: 0x95a5a6 });\r\nconst lanternBottom = new THREE.Mesh(lanternBottomGeometry, lanternMaterial);\r\nconst lanternBase = new THREE.Mesh(lanternBaseGeometry, lanternMaterial);\r\nconst lanternUpper = new THREE.Mesh(lanternUpperGeometry, lanternMaterial);\r\n\r\nlanternBottom.position.set(0, 1, 0)\r\nlanternBase.position.set(0, 45, 0)\r\nlanternUpper.position.set(0, 96, -5)\r\nlanternUpper.rotateX(Math.PI / 10)\r\n\r\n/* making light for lanterns */\r\nconst lanternBulb = new THREE.SpotLight(0xffffff, .85, 0, Math.PI / 4, 1, 1);\r\nlanternBulb.castShadow = true;\r\n\r\nconst lanternLightGeometry = new THREE.BoxGeometry(4, 1, 9);\r\nconst lanternLightMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff, opacity: .5 /*do zmiany miedzy dniem a noca opacity: .5*/, transparent: true });\r\nconst lanternLight = new THREE.Mesh(lanternLightGeometry, lanternLightMaterial);\r\nlanternLight.position.set(0, 95, -5)\r\nlanternLight.rotateX(Math.PI / 10)\r\n\r\nlanternSingle.add(lanternBottom, lanternBase, lanternUpper, lanternLight);\r\n\r\nconst lanternsArray = new Array();\r\nconst lanternsBulbsArray = new Array();\r\n\r\nfor (let i = 0; i < 8; i++) {\r\n    lanternsArray[i] = lanternSingle.clone();\r\n    lanternsArray[i].scale.set(.075, .075, .075)\r\n    lanternsBulbsArray[i] = lanternBulb.clone();\r\n    for (let j = 0; j < 3; j++) {\r\n        lanternsArray[i].children[j].castShadow = true\r\n        lanternsArray[i].children[j].receiveShadow = true\r\n    }\r\n    if (i < 6) {\r\n        if (i % 2 == 0) {\r\n            lanternsArray[i].position.set(30 - i * 10, .8, 7.5)\r\n            lanternsBulbsArray[i].position.set(30 - i * 10, 8, 7.3)\r\n            lanternsBulbsArray[i].target.position.set(30 - i * 10, 0, 2.3)\r\n        } else {\r\n            lanternsArray[i].position.set(30 - i * 10, .8, -7.5)\r\n            lanternsArray[i].rotateY(Math.PI);\r\n            lanternsBulbsArray[i].position.set(30 - i * 10, 8, -7.3)\r\n            lanternsBulbsArray[i].target.position.set(30 - i * 10, 0, -2.3)\r\n        }\r\n        if (i > 2){\r\n            lanternsArray[i].translateX(10)\r\n            lanternsBulbsArray[i].translateX(-10)            \r\n            lanternsBulbsArray[i].target.translateX(-10)            \r\n        }\r\n        if (i == 4) {\r\n            lanternsArray[i].position.set(-20, .8, 7.5)\r\n        }\r\n    } else if (i == 7){\r\n        lanternsArray[i].rotateY(Math.PI/2);\r\n        lanternsArray[i].position.set(7.5, .8, 25)\r\n        lanternsBulbsArray[i].position.set(7.3, 8, 25)\r\n        lanternsBulbsArray[i].target.position.set(2.3, 0, 25)\r\n    } else {\r\n        lanternsArray[i].rotateY(-Math.PI * Math.pow(-1, i) / 2);\r\n        lanternsArray[i].position.set(-7.5, .8, 15)\r\n        lanternsBulbsArray[i].position.set(-7.3, 8, 15)\r\n        lanternsBulbsArray[i].target.position.set(-2.3, 0, 15)\r\n    }\r\n    scene.add(lanternsArray[i], lanternsBulbsArray[i], lanternsBulbsArray[i].target)\r\n}","// TRAFFICLIGHT.JS\r\n\r\nconst trafficLightUpperGeometry = new THREE.CylinderGeometry(1.5, 1.5, 85, 32);\r\nconst trafficLightHeadGeometry1 = new THREE.CylinderGeometry(5, 5, 25, 32, 1, false, 0, 3.15);\r\nconst trafficLightHeadGeometry2 = new THREE.PlaneGeometry(10, 25);\r\nconst trafficLightCylinderGeometry = new THREE.CylinderGeometry(3, 3, 2, 32);\r\n\r\nconst trafficLightHeadMaterial = new THREE.MeshStandardMaterial({ color: 0x34495e });\r\nconst trafficLightRedMaterial = new THREE.MeshStandardMaterial({ color: 0xff0000, transparent: true, opacity: .5 });\r\nconst trafficLightYellowMaterial = new THREE.MeshStandardMaterial({ color: 0xffff00, transparent: true, opacity: .5 });\r\nconst trafficLightGreenMaterial = new THREE.MeshStandardMaterial({ color: 0x00ff00, transparent: true, opacity: .5 });\r\n\r\nconst trafficLightBottom = lanternBottom.clone();\r\nconst trafficLightBase = lanternBase.clone();\r\nconst trafficLightUpper = new THREE.Mesh(trafficLightUpperGeometry, lanternMaterial)\r\nconst trafficLightHead1 = new THREE.Mesh(trafficLightHeadGeometry1, trafficLightHeadMaterial);\r\nconst trafficLightHead2 = new THREE.Mesh(trafficLightHeadGeometry2, trafficLightHeadMaterial);\r\nconst trafficLightRed = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightRedMaterial)\r\nconst trafficLightYellow = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightYellowMaterial)\r\nconst trafficLightGreen = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightGreenMaterial)\r\n\r\ntrafficLightBottom.position.set(0, 1, 0);\r\ntrafficLightBase.position.set(0, 45, 0)\r\ntrafficLightUpper.position.set(0, 95, -35)\r\ntrafficLightUpper.rotateX(Math.PI / 2)\r\ntrafficLightHead1.position.set(-4, 88, -60);\r\ntrafficLightHead2.position.set(-4, 88, -60);\r\ntrafficLightHead2.rotateY(-Math.PI / 2)\r\n\r\ntrafficLightSingle.add(\r\n    trafficLightBottom, trafficLightBase, trafficLightUpper,\r\n    trafficLightHead1, trafficLightHead2,\r\n    trafficLightRed, trafficLightYellow, trafficLightGreen\r\n)\r\n\r\nconst trafficLightArray = new Array();\r\n\r\nfor (let i = 0; i < 3; i++) {\r\n    let a = 0\r\n    trafficLightArray[i] = trafficLightSingle.clone();\r\n    trafficLightArray[i].scale.set(.075, .075, .075)\r\n    trafficLightArray[i].position.set(7.5 * Math.pow(-1, -i), .8, 7.5)\r\n    trafficLightArray[i].rotateY(-Math.PI - Math.PI * i)\r\n    // lanternsBulbsArray[i] = lanternBulb.clone();\r\n    for (let j = 0; j < 8; j++) {\r\n        if (j < 5) {\r\n            trafficLightArray[i].children[j].castShadow = true\r\n            trafficLightArray[i].children[j].receiveShadow = true\r\n        } else {\r\n            trafficLightArray[i].children[j].rotateZ(Math.PI / 2)\r\n            trafficLightArray[i].children[j].position.set(-5, 96 - a * 8, -60)\r\n            a++\r\n        }\r\n    }\r\n    if (i % 2 == 0) {\r\n        trafficLightArray[i].position.set(7.5, .8, -7.5)\r\n    }\r\n    if (i == 2) {\r\n        trafficLightArray[i].rotateY(-Math.PI / 2)\r\n        trafficLightArray[i].translateX(-15)\r\n    }\r\n    scene.add(trafficLightArray[i])\r\n}\r\n\r\n// const trafficLightBulb = new THREE.SpotLight(0xff0000, 1, 0, Math.PI / 4, 1, 2, 1);\r\n// trafficLightBulb.castShadow = true;\r\n// trafficLightBulb.position.set(7.75, 8, -3)\r\n// trafficLightBulb.target.position.set(7.8, 8, -3)\r\n// scene.add(trafficLightBulb, trafficLightBulb.target)\r\n\r\n// // const spotLightHelper = new THREE.SpotLightHelper(trafficLightBulb);\r\n// // scene.add(spotLightHelper);\r\n\r\n// trafficLightSingle.add(trafficLightRedCircle, trafficLightRedCircle2, trafficLightRedCylinder)\r\n\r\n// // const trafficLightBulb = new THREE.SpotLight(0xff0000, 1, 0, Math.PI / 4, 1, 2, 1);\r\n// // trafficLightBulb.castShadow = true;\r\n// // trafficLightBulb.position.set(7.75, 8, -3)\r\n// // trafficLightBulb.target.position.set(7.8, 8, -3)\r\n\r\n// // // const spotLightHelper = new THREE.SpotLightHelper(trafficLightBulb);\r\n// // // scene.add(spotLightHelper);\r\n\r\n// // scene.add(trafficLightBulb, trafficLightBulb.target)\r\n\r\n// trafficLightSingle.add(trafficLightYellowCircle, trafficLightYellowCircle2, trafficLightYellowCylinder)\r\n\r\n/* const trafficLightsAArray = new Array();\r\n\r\n/* setting multiple traffic lights (positioning, rotating, scaling)\r\n*/\r\n\r\n/* adding multiple traffic lights into group */\r\n// trafficLightsAArray.forEach(element => {\r\n// trafficLightsGroup.add(element);\r\n// });\r\n\r\n/* adding to scene all traffic lights */\r\n","/* TREE0.JS */\r\n\r\nconst woodGeometry = new THREE.CylinderGeometry(.5, .5, 8, 32);\r\nconst woodMaterial = new THREE.MeshStandardMaterial({ color: 0x611d00 });\r\nconst woodBase = new THREE.Mesh(woodGeometry, woodMaterial);\r\n\r\nconst leavesGeometry0 = new THREE.CylinderGeometry(.75, 5, 4, 10);\r\nconst leavesGeometry1 = new THREE.CylinderGeometry(.1, 5, 4, 10);\r\nconst leavesMaterial0 = new THREE.MeshStandardMaterial({ color: 0x20bf6b });\r\nconst leavesBase0 = new THREE.Mesh(leavesGeometry0, leavesMaterial0);\r\n\r\nconst tree0Leaves0 = leavesBase0\r\nconst tree0Leaves1 = tree0Leaves0.clone()\r\nconst tree0Leaves2 = tree0Leaves0.clone()\r\nconst tree0Leaves3 = tree0Leaves0.clone()\r\n\r\nconst tree0 = [\r\n    woodBase, tree0Leaves0, tree0Leaves1, tree0Leaves2, tree0Leaves3\r\n]\r\n\r\ntree0[1].position.set(0, -.25, 0);\r\n\r\ntree0[2].scale.set(.75, .75, .75);\r\ntree0[2].position.set(0, 1.5, 0);\r\n\r\ntree0[3].scale.set(.5, .5, .5);\r\ntree0[3].position.set(0, 3, 0);\r\n\r\ntree0[4].geometry = leavesGeometry1;\r\ntree0[4].scale.set(.375, .5, .375);\r\ntree0[4].position.set(0, 4.25, 0);\r\n\r\ntree0.forEach(element => {\r\n    element.castShadow = true\r\n    element.receiveShadow = true\r\n    tree0Single.add(element)\r\n});\r\n\r\nconst tree0Array = new Array()\r\n\r\nfor (let i = 0; i < 3; i++) {\r\n    tree0Array[i] = tree0Single.clone()\r\n\r\n    scene.add(tree0Array[i])\r\n}\r\n\r\ntree0Array[0].position.set(15, 4, 15)\r\ntree0Array[1].position.set(-15, 4, 15)\r\ntree0Array[2].position.set(-30, 4, 25)","/* TREE1.JS */\r\n\r\nconst leavesGeometry2 = new THREE.IcosahedronGeometry(3);\r\nconst leavesBase1 = new THREE.Mesh(leavesGeometry2, leavesMaterial0);\r\n\r\nconst tree1Leaves0 = leavesBase1\r\n\r\nconst tree1 = [\r\n    woodBase, tree1Leaves0\r\n]\r\n\r\ntree1Leaves0.position.set(0, 2.5, 0)\r\n\r\ntree1.forEach(element => {\r\n    element.castShadow = true\r\n    element.receiveShadow = true\r\n    tree1Single.add(element)\r\n});\r\n\r\nconst tree1Array = new Array()\r\n\r\nfor (let i = 0; i < 7; i++) {\r\n    tree1Array[i] = tree1Single.clone()\r\n\r\n    tree1Array[i].children[1].rotateY(Math.PI / Math.random() * 7 + 1)\r\n\r\n    scene.add(tree1Array[i])\r\n}\r\n\r\ntree1Array[0].position.set(15, 4, 25)\r\ntree1Array[1].position.set(-25, 4, 15)\r\ntree1Array[2].position.set(-20, 4, 22.5)\r\ntree1Array[3].position.set(-12.5, 4, 25)\r\ntree1Array[4].position.set(-17.5, 4, -12.5)\r\ntree1Array[5].position.set(17.5, 4, -12.5)\r\ntree1Array[6].position.set(-7.5, 4, -12.5)","/* HOUSE.JS */\r\n\r\nconst wallGeometry0 = new THREE.BoxGeometry(10, 5, .25);\r\nconst wallGeometry1 = new THREE.BoxGeometry(3.5, 5, .25);\r\nconst wallGeometry2 = new THREE.BoxGeometry(3, 1.75, .25);\r\nconst floorGeometry = new THREE.BoxGeometry(9.5, .25, 9.5);\r\nconst windowGeometry = new THREE.BoxGeometry(3, 1.5, .05);\r\n\r\nconst roofGeometry = new THREE.BufferGeometry();\r\nconst vertices = new Float32Array([\r\n    //FRONT\r\n    5.5, 2.5, 5.0,\r\n    0.0, 6.25, 5.0,\r\n    -5.5, 2.5, 5.0,\r\n    //RIGHT\r\n    5.5, 2.5, 5.0,\r\n    5.5, 2.5, -5.0,\r\n    0.0, 6.25, -5.0,\r\n    //\r\n    5.5, 2.5, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    0.0, 6.25, 5.0,\r\n    //LEFT\r\n    -5.5, 2.5, 5.0,\r\n    0.0, 6.25, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    //\r\n    -5.5, 2.5, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    -5.5, 2.5, -5.0,\r\n    //BACK\r\n    -5.5, 2.5, -5.0,\r\n    0.0, 6.25, -5.0,\r\n    5.5, 2.5, -5.0,\r\n    //BOTTOM\r\n    -5.5, 2.5, 5.0,\r\n    5.5, 2.5, -5.0,\r\n    5.5, 2.5, 5.0,\r\n    //\r\n    -5.5, 2.5, -5.0,\r\n    5.5, 2.5, -5.0,\r\n    -5.5, 2.5, 5.0,\r\n]);\r\nroofGeometry.setAttribute('position', new THREE.BufferAttribute(vertices, 3));\r\nroofGeometry.computeVertexNormals()\r\n\r\nconst floorMaterial = new THREE.MeshStandardMaterial({ color: 0xf7f1e3 });\r\nconst windowMaterial = new THREE.MeshStandardMaterial({ color: 0x7ed6df, transparent: true, opacity: .3 });\r\nconst wallMaterials = [\r\n    new THREE.MeshStandardMaterial({ color: 0x686de0 }),\r\n    new THREE.MeshStandardMaterial({ color: 0xe58e26 }),\r\n    new THREE.MeshStandardMaterial({ color: 0x6d214f }),\r\n    new THREE.MeshStandardMaterial({ color: 0x808e9b })\r\n]\r\n\r\nconst roofMaterials = [\r\n    new THREE.MeshStandardMaterial({ color: 0xff4757 }),\r\n    new THREE.MeshStandardMaterial({ color: 0x0c2461 }),\r\n    new THREE.MeshStandardMaterial({ color: 0xf97f51 }),\r\n    new THREE.MeshStandardMaterial({ color: 0x3dc1d3 })\r\n]\r\n\r\nconst wall0 = new THREE.Mesh(wallGeometry0, wallMaterials[0]);\r\nconst wall1 = new THREE.Mesh(wallGeometry1, wallMaterials[0]);\r\nconst wall2 = wall1.clone();\r\nconst wall3 = new THREE.Mesh(wallGeometry2, wallMaterials[0])\r\nconst wall4 = wall1.clone()\r\nconst wall5 = wall1.clone()\r\nconst wall6 = wall3.clone()\r\nconst wall7 = wall3.clone()\r\nconst wall8 = wall1.clone()\r\nconst wall9 = wall1.clone()\r\nconst wall10 = wall3.clone()\r\nconst wall11 = wall3.clone()\r\n\r\nconst floor0 = new THREE.Mesh(floorGeometry, floorMaterial);\r\nconst floor1 = floor0.clone();\r\n\r\nconst window0 = new THREE.Mesh(windowGeometry, windowMaterial);\r\nconst window1 = window0.clone();\r\n\r\nconst roof0 = new THREE.Mesh(roofGeometry, roofMaterials[0]);\r\n\r\n\r\nwall0.position.set(0, 0, -4.875);\r\nwall1.position.set(3, 0, 4.875);\r\nwall2.position.set(-3, 0, 4.875);\r\nwall3.position.set(0, 1.625, 4.875);\r\nwall4.position.set(4.875, 0, 3.25);\r\nwall5.position.set(4.875, 0, -3.25);\r\nwall6.position.set(4.875, -1.625, 0);\r\nwall7.position.set(4.875, 1.625, 0);\r\nwall8.position.set(-4.875, 0, 3.25);\r\nwall9.position.set(-4.875, 0, -3.25);\r\nwall10.position.set(-4.875, -1.625, 0);\r\nwall11.position.set(-4.875, 1.625, 0);\r\n\r\nfloor0.position.set(0, -2.375, 0);\r\nfloor1.position.set(0, 2.375, 0);\r\n\r\nwindow0.position.set(4.875, 0, 0);\r\nwindow1.position.set(-4.875, 0, 0);\r\n\r\nbuildingSingle.add(\r\n    wall0, wall1, wall2, wall3, wall4, wall5, wall6, wall7, wall8, wall9, wall10, wall11,\r\n    window0, window1,\r\n    floor0, floor1,\r\n    roof0\r\n)\r\n\r\nconst buildingArray = new Array();\r\n\r\nfor (let i = 0; i < 4; i++) {\r\n    buildingArray[i] = buildingSingle.clone();\r\n    buildingArray[i].position.set(-25 + 25 * i, 2.5, -20)\r\n    if (i == 3) {\r\n        buildingArray[i].position.set(25, 2.5, 20)\r\n        buildingArray[i].rotateY(Math.PI)\r\n    }\r\n    for (let j = 0; j < 17; j++) {\r\n        if (j > 3 && j < 15)\r\n            buildingArray[i].children[j].rotateY(Math.PI / 2)\r\n        buildingArray[i].children[j].castShadow = true\r\n        buildingArray[i].children[j].receiveShadow = true\r\n        if (j < 12) {\r\n            buildingArray[i].children[j].material = wallMaterials[i];\r\n        }\r\n        if (j == 16) {\r\n            buildingArray[i].children[j].material = roofMaterials[i];\r\n        }\r\n\r\n        if (j > 11 && j < 13) {\r\n            buildingArray[i].children[j].castShadow = false\r\n            buildingArray[i].children[j].receiveShadow = false\r\n        }\r\n    }\r\n    scene.add(buildingArray[i])\r\n}","//RENDER.JS\r\n\r\n/* render scene */\r\nrenderer.render(scene, camera);\r\n\r\n/* animation settings */\r\nfunction animate() {\r\n    requestAnimationFrame(animate);\r\n\r\n    // dobre/przetestowane wartosci\r\n    // daySpotLight.position.x = 100 * Math.sin(Date.now() / 4800)\r\n    // daySpotLight.position.y = 100 * Math.cos(Date.now() / 4800)\r\n\r\n    // nightSpotLight.position.x = -100 * Math.sin(Date.now() / 4800)\r\n    // nightSpotLight.position.y = -100 * Math.cos(Date.now() / 4800)\r\n    //\r\n\r\n    //te raczej tez\r\n    if (daySpotLight.position.y < 70 && daySpotLight.position.x > 0) {\r\n        daySpotLight.intensity -= .002\r\n        if (daySpotLight.intensity < .0009 || daySpotLight.position.y < -20) {\r\n            daySpotLight.intensity = 0\r\n        }\r\n        lanternsOn(daySpotLight.position.y);\r\n    }\r\n    if (daySpotLight.position.y > -20 && daySpotLight.position.x < 0) {\r\n        daySpotLight.intensity += .002\r\n        if (daySpotLight.intensity > .499) {\r\n            daySpotLight.intensity = .5\r\n        }\r\n        lanternsOff(daySpotLight.position.y);\r\n    }\r\n    if (daySpotLight.position.y < -10)\r\n        daySpotLight.intensity = 0     \r\n    \r\n    if (nightSpotLight.position.y < 70 && nightSpotLight.position.x > 0) {\r\n        nightSpotLight.intensity -= .001\r\n        if (nightSpotLight.intensity < .0009 || nightSpotLight.position.y < -20) {\r\n            nightSpotLight.intensity = 0\r\n        }\r\n    }\r\n    if (nightSpotLight.position.y > -20 && nightSpotLight.position.x < 0) {\r\n        nightSpotLight.intensity += .001\r\n        if (nightSpotLight.intensity > .249) {\r\n            nightSpotLight.intensity = .25\r\n        }\r\n    }\r\n    if (nightSpotLight.position.y < -10)\r\n        nightSpotLight.intensity = 0    \r\n    //\r\n    \r\n        \r\n        \r\n        \r\n    // console.log(nightSpotLight.intensity)\r\n        // console.log(daySpotLight.intensity)\r\n        // console.log(daySpotLight.position.y)\r\n    \r\n        // console.log(daySpotLight.intensity)\r\n    \r\n        // console.log(dayAmbientLight.intensity)\r\n        // console.log(daySpotLight.position.y)\r\n        // console.log(daySpotLight.position.x)\r\n    \r\n        // console.log(nightSpotLight.position.x)\r\n        // console.log(nightSpotLight.position.y)\r\n\r\n\r\n    \r\n\r\n    // if (daySpotLight.position.y < 75 && daySpotLight.position.y > -75) {\r\n\r\n    // }\r\n    // if (daySpotLight.intensity < 0) daySpotLight.intensity == 0\r\n    // else if (daySpotLight.position.y > -30 && daySpotLight.position.x < -60) {\r\n    //     if (daySpotLight.intensity > .05) daySpotLight.intensity == .05\r\n    //     daySpotLight.intensity += .05\r\n    // }\r\n    // if (daySpotLight.intensity < .05) daySpotLight.intensity = 0\r\n    // if (daySpotLight.intensity > .05) daySpotLight.intensity = .5\r\n\r\n\r\n\r\n    // nightSpotLight.position.x = -100 * Math.sin(Date.now() / 9600)\r\n    // nightSpotLight.position.y = -100 * Math.cos(Date.now() / 9600)\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // if (daySpotLight.position.y < 40) {\r\n    //     if (daySpotLight.intensity > .01) {\r\n    //         daySpotLight.intensity -= .005\r\n    //         // dayAmbientLight.intensity -= .005\r\n    //     }\r\n    //     else {\r\n    //         daySpotLight.intensity = 0\r\n    //         // dayAmbientLight.intensity = 0\r\n    //     }\r\n    // }\r\n    // else if (daySpotLight.position.y > -40) {\r\n    //     if (daySpotLight.intensity > .74) {\r\n    //         daySpotLight.intensity = .75\r\n    //         // dayAmbientLight.intensity = .5\r\n    //     }\r\n    //     else {\r\n    //         daySpotLight.intensity += .005\r\n    //         // dayAmbientLight.intensity += .005\r\n    //     }\r\n    // }\r\n\r\n    // if (nightSpotLight.position.y < 40) {\r\n    //     if (nightSpotLight.intensity > .01) {\r\n    //         nightSpotLight.intensity -= .0025\r\n    //         nightAmbientLight.intensity -= .0025\r\n    //     }\r\n    //     else {\r\n    //         nightSpotLight.intensity = 0\r\n    //         nightAmbientLight.intensity = 0\r\n    //     }\r\n    // }\r\n    // else if (nightSpotLight.position.y > -40) {\r\n    //     if (nightSpotLight.intensity > .74) {\r\n    //         nightSpotLight.intensity = .75\r\n    //         nightAmbientLight.intensity = .5\r\n    //     }\r\n    //     else {\r\n    //         nightSpotLight.intensity += .0025\r\n    //         nightAmbientLight.intensity += .0025\r\n    //     }\r\n    // }\r\n\r\n    // if (nightSpotLight.position.y > -10) {\r\n    //     if (nightSpotLight.intensity > .74)\r\n    //         nightSpotLight.intensity = .75\r\n    //     else nightSpotLight.intensity += .025\r\n    // }\r\n    // else if (nightSpotLight.position.y < 10) {\r\n    //     if (nightSpotLight.intensity > .01)\r\n    //         nightSpotLight.intensity -= .025\r\n    //     else nightSpotLight.intensity = 0\r\n    // }\r\n\r\n    // console.log(lanternsBulbsArray[0].children)\r\n\r\n    controls.update();\r\n    renderer.render(scene, camera);\r\n}\r\n\r\nfunction lanternsOff(y){\r\n    lanternsBulbsArray.forEach(e => {\r\n        if(e.intensity <= .01225 || y > 10) e.intensity = 0\r\n        else e.intensity -= .01225;\r\n    });\r\n    lanternsArray.forEach(e => {\r\n        if(e.children[3].material.opacity <= .1) e.children[3].material.opacity = .1;\r\n        else e.children[3].material.opacity -= .00225;\r\n        //if(f.material.opacity >= 1) f.material.opacity = 1\r\n        //else f.material.opacity += .05;\r\n    });\r\n    // lanternsArray.forEach(e => {\r\n    //     e.children.forEach(f => {\r\n    //         if(f.material.opacity <= .15) f.material.opacity = .1\r\n    //         else f.material.opacity -= .05;\r\n    //     });\r\n    // });\r\n}\r\n\r\nfunction lanternsOn(y){\r\n    lanternsBulbsArray.forEach(e => {\r\n        if(e.intensity >= .84 || y < -20) e.intensity = .85\r\n        else e.intensity += .01225;\r\n    });\r\n    lanternsArray.forEach(e => {\r\n        if(e.children[3].material.opacity >= 1) e.children[3].material.opacity = 1;\r\n        else e.children[3].material.opacity += .00225;\r\n        //if(f.material.opacity >= 1) f.material.opacity = 1\r\n        //else f.material.opacity += .05;\r\n    });\r\n    // lanternsArray.forEach(e => {\r\n    //     e.children.forEach(f => {\r\n    //         if(f.material.opacity >= 1) f.material.opacity = 1\r\n    //         else f.material.opacity += .05;\r\n    //     });\r\n    // });\r\n}\r\n\r\nanimate();"]}