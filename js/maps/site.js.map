{"version":3,"sources":["global.js","groups.js","grass.js","sidewalk.js","street.js","lamp.js","lantern.js","trafficLight.js","tree0.js","tree1.js","house.js","render.js"],"names":["scene","THREE","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","renderer","WebGLRenderer","setClearColor","Color","setSize","shadowMap","enabled","type","PCFSoftShadowMap","controls","OrbitControls","domElement","document","getElementById","appendChild","daySpotLight","SpotLight","shadow","mapSize","width","height","angle","Math","PI","castShadow","add","daySpotLightHelper","SpotLightHelper","ambientLight","AmbientLight","nightSpotLight","nightSpotLightHelper","lanternSingle","Group","trafficLightSingle","lampSingle","buildingSingle","buildingsGroup","tree0Single","tree1Single","grassGeometry","BoxGeometry","grassMaterial","MeshStandardMaterial","color","grassBase","Mesh","receiveShadow","grassArray","Array","i","clone","scale","sidewalkGeometry","sidewalkMaterial","sidewalkBase","sidewalksArray","rotateY","pow","streetGeometry","streetMaterial","streetBase","streetsArray","lampBaseGeometry","CylinderGeometry","lampBaseMaterial","lampMiddleMaterial","opacity","transparent","lampBase","lampMiddle","lampUpper","lampsArray","j","children","lanternBottomGeometry","lanternBaseGeometry","lanternUpperGeometry","lanternMaterial","lanternBottom","lanternBase","lanternUpper","rotateX","lanternBulb","lanternLightGeometry","lanternLightMaterial","MeshBasicMaterial","lanternLight","lanternsArray","lanternsBulbsArray","target","translateX","trafficLightUpperGeometry","trafficLightHeadGeometry1","trafficLightHeadGeometry2","PlaneGeometry","trafficLightCylinderGeometry","trafficLightHeadMaterial","trafficLightRedMaterial","trafficLightYellowMaterial","trafficLightGreenMaterial","trafficLightBottom","trafficLightBase","trafficLightUpper","trafficLightHead1","trafficLightHead2","trafficLightRed","trafficLightYellow","trafficLightGreen","trafficLightArray","a","rotateZ","woodGeometry","woodMaterial","woodBase","leavesGeometry0","leavesGeometry1","leavesMaterial0","leavesBase0","tree0Leaves0","tree0Leaves1","tree0Leaves2","tree0Leaves3","tree0","geometry","forEach","element","tree0Array","leavesGeometry2","IcosahedronGeometry","leavesBase1","tree1Leaves0","tree1","tree1Array","random","wallGeometry0","wallGeometry1","wallGeometry2","floorGeometry","windowGeometry","roofGeometry","BufferGeometry","vertices","Float32Array","setAttribute","BufferAttribute","computeVertexNormals","floorMaterial","windowMaterial","wallMaterials","roofMaterials","wall0","wall1","wall2","wall3","wall4","wall5","wall6","wall7","wall8","wall9","wall10","wall11","floor0","floor1","window0","window1","roof0","buildingArray","material","render","animate","requestAnimationFrame","x","sin","Date","now","y","cos","intensity","lanternsOn","lanternsOff","update","e"],"mappings":"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","file":"../site.js","sourcesContent":["//GLOBAL.JS\r\n\r\n/* create a scene, that will hold all our elements such as objects, cameras and lights. */\r\nconst scene = new THREE.Scene();\r\n\r\n/* create a camera, which defines where we're looking at. */\r\nconst camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n\r\n/* position and point the camera to the center of the scene */\r\ncamera.position.set(35, 35, -35);\r\n// camera.position.set(15, 15, -15)\r\n// camera.position.set(5, 5, 15)\r\n\r\n/* create a render and set the size */\r\nconst renderer = new THREE.WebGLRenderer();\r\n\r\n// renderer.setClearColor(new THREE.Color(0xdddddd));\r\nrenderer.setClearColor(new THREE.Color(0x222222));\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\nrenderer.shadowMap.enabled = true;\r\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n\r\n/* add OrbitControls */\r\nconst controls = new THREE.OrbitControls(camera, renderer.domElement);\r\n\r\n/* add the output of the renderer to the html element */\r\ndocument.getElementById(\"WebGL-output\").appendChild(renderer.domElement);\r\n\r\n\r\n/* day light */\r\nconst daySpotLight = new THREE.SpotLight(0xfdfbd3, .5)\r\ndaySpotLight.position.set(0, 100, 0);\r\ndaySpotLight.shadow.mapSize.width = 2048;\r\ndaySpotLight.shadow.mapSize.height = 2048;\r\ndaySpotLight.angle = Math.PI / 4;\r\ndaySpotLight.castShadow = true;\r\nscene.add(daySpotLight);\r\n\r\nconst daySpotLightHelper = new THREE.SpotLightHelper(daySpotLight);\r\nscene.add(daySpotLightHelper)\r\n\r\n/* add ambient light for better effect */\r\nconst ambientLight = new THREE.AmbientLight(0x494949, .5);\r\nscene.add(ambientLight);\r\n\r\n/* night light */\r\nconst nightSpotLight = new THREE.SpotLight(0xa5b1c2, .25)\r\nnightSpotLight.position.set(0, -100, 0);\r\nnightSpotLight.shadow.mapSize.width = 2048;\r\nnightSpotLight.shadow.mapSize.height = 2048;\r\nnightSpotLight.angle = Math.PI / 4;\r\nnightSpotLight.castShadow = true;\r\nscene.add(nightSpotLight);\r\n\r\nconst nightSpotLightHelper = new THREE.SpotLightHelper(nightSpotLight);\r\nscene.add(nightSpotLightHelper)\r\n\r\n/* add ambient light for better effect */\r\n// const nightAmbientLight = new THREE.AmbientLight(0x000000);\r\n// scene.add(nightAmbientLight)","/* GROUPS.JS */\r\n\r\n/* groups for objects */\r\nconst lanternSingle = new THREE.Group();\r\nconst trafficLightSingle = new THREE.Group();\r\nconst lampSingle = new THREE.Group();\r\nconst buildingSingle = new THREE.Group();\r\nconst buildingsGroup = new THREE.Group();\r\nconst tree0Single = new THREE.Group();\r\nconst tree1Single = new THREE.Group();","/* GRASS.JS */\r\n\r\nconst grassGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\nconst grassMaterial = new THREE.MeshStandardMaterial({ color: 0x27ae60 });\r\nconst grassBase = new THREE.Mesh(grassGeometry, grassMaterial);\r\ngrassBase.receiveShadow = true;\r\n\r\nconst grassArray = new Array();\r\n\r\nfor (let i = 0; i < 5; i++) {\r\n    grassArray[i] = grassBase.clone();\r\n    if (i < 2) {\r\n        grassArray[i].scale.set(25, 1, 20)\r\n        grassArray[i].position.set(22.5, 0, 20)\r\n        if (i % 2 != 0)\r\n            grassArray[i].position.set(-22.5, 0, 20)\r\n    }\r\n    else {\r\n        grassArray[i].scale.set(20, 1, 20)\r\n        grassArray[i].position.set(i * -25 + 75, 0, -20)\r\n    }\r\n    scene.add(grassArray[i])\r\n}","/* SIDEWALK.JS */\r\n\r\n/* base sidewalk object */\r\nconst sidewalkGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\nconst sidewalkMaterial = new THREE.MeshStandardMaterial({ color: 0xf7f1e3 });\r\nconst sidewalkBase = new THREE.Mesh(sidewalkGeometry, sidewalkMaterial);\r\nsidewalkBase.receiveShadow = true;\r\n\r\n/* Array for sidewalks */\r\nconst sidewalksArray = new Array();\r\n\r\nfor (let i = 0; i < 7; i++) {\r\n    /* cloning base sidewalk */\r\n    sidewalksArray[i] = sidewalkBase.clone();\r\n    /* sidewalks close to houses */\r\n    if (i < 4) {\r\n        sidewalksArray[i].scale.set(20, 2, 5)\r\n        sidewalksArray[i].rotateY(Math.PI / 2)\r\n        if (i < 2) {\r\n            sidewalksArray[i].position.set(7.5 * Math.pow(-1, i), .05, 20)\r\n        } else {\r\n            sidewalksArray[i].position.set(12.5 * Math.pow(-1, i), .05, -20)\r\n        }\r\n        /* main long sidewalk */\r\n    } else if (i > 5) {\r\n        sidewalksArray[i].scale.set(70, 2, 5)\r\n        sidewalksArray[i].position.set(0, 0.05, -7.5)\r\n        /* other main sidewalks */\r\n    } else {\r\n        sidewalksArray[i].scale.set(30, 2, 5)\r\n        sidewalksArray[i].position.set(20 * Math.pow(-1, i), .05, 7.5)\r\n    }\r\n    /* adding all sidewalks to scene */\r\n    scene.add(sidewalksArray[i])\r\n}","//STREET.JS\r\n\r\n/* base street object */\r\nconst streetGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\nconst streetMaterial = new THREE.MeshStandardMaterial({ color: 0x34495e });\r\nconst streetBase = new THREE.Mesh(streetGeometry, streetMaterial);\r\nstreetBase.receiveShadow = true;\r\n\r\nconst streetsArray = new Array();\r\n\r\nfor (let i = 0; i < 2; i++) {\r\n    streetsArray[i] = streetBase.clone();\r\n    streetsArray[i].scale.set(70, 1, 10)\r\n    if (i == 1) {\r\n        streetsArray[i].scale.set(10, 1, 25)\r\n        streetsArray[i].position.set(0, 0, 17.5)\r\n    }\r\n    scene.add(streetsArray[i])\r\n}","/* LAMP.JS */\r\n\r\nconst lampBaseGeometry = new THREE.CylinderGeometry(1, 1, 7, 32);\r\nconst lampBaseMaterial = new THREE.MeshStandardMaterial({ color: 0x95a5a6 });\r\nconst lampMiddleMaterial = new THREE.MeshStandardMaterial({ color: 0xffffff, opacity: .5, transparent: true });\r\nconst lampBase = new THREE.Mesh(lampBaseGeometry, lampBaseMaterial);\r\nconst lampMiddle = new THREE.Mesh(lampBaseGeometry, lampMiddleMaterial)\r\nconst lampUpper = new THREE.Mesh(lampBaseGeometry, lampBaseMaterial)\r\n\r\nlampBase.position.set(0, 0, 0);\r\n\r\nlampMiddle.scale.set(1, .2, 1)\r\nlampMiddle.position.set(0, 4.2, 0)\r\n\r\nlampUpper.scale.set(1, .1, 1)\r\nlampUpper.position.set(0, 5.25, 0)\r\n\r\nlampSingle.add(lampBase, lampMiddle, lampUpper)\r\n\r\nconst lampsArray = new Array();\r\n\r\nfor (let i = 0; i < 6; i++) {\r\n    lampsArray[i] = lampSingle.clone()\r\n    lampsArray[i].scale.set(.2, .2, .2)\r\n    for (let j = 0; j < 3; j++) {\r\n        lampsArray[i].children[j].castShadow = true\r\n        lampsArray[i].children[j].receiveShadow = true\r\n    }\r\n    if (i < 3) lampsArray[i].position.set(12.5, .8, -15 - (5 * i))\r\n    else lampsArray[i].position.set(-12.5, .8, -5 * i)\r\n    scene.add(lampsArray[i])\r\n}","/* LANTERN.JS */\r\n\r\nconst lanternBottomGeometry = new THREE.CylinderGeometry(2, 5, 20, 32);\r\nconst lanternBaseGeometry = new THREE.CylinderGeometry(1.5, 1.5, 100, 32);\r\nconst lanternUpperGeometry = new THREE.BoxGeometry(7.5, 2, 12.5);\r\nconst lanternMaterial = new THREE.MeshStandardMaterial({ color: 0x95a5a6 });\r\nconst lanternBottom = new THREE.Mesh(lanternBottomGeometry, lanternMaterial);\r\nconst lanternBase = new THREE.Mesh(lanternBaseGeometry, lanternMaterial);\r\nconst lanternUpper = new THREE.Mesh(lanternUpperGeometry, lanternMaterial);\r\n\r\nlanternBottom.position.set(0, 1, 0)\r\nlanternBase.position.set(0, 45, 0)\r\nlanternUpper.position.set(0, 96, -5)\r\nlanternUpper.rotateX(Math.PI / 10)\r\n\r\n/* making light for lanterns */\r\nconst lanternBulb = new THREE.SpotLight(0xffffff, .85, 0, Math.PI / 4, 1, 1);\r\nlanternBulb.castShadow = true;\r\n\r\nconst lanternLightGeometry = new THREE.BoxGeometry(4, 1, 9);\r\nconst lanternLightMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff, opacity: .5 /*do zmiany miedzy dniem a noca opacity: .5*/, transparent: true });\r\nconst lanternLight = new THREE.Mesh(lanternLightGeometry, lanternLightMaterial);\r\nlanternLight.position.set(0, 95, -5)\r\nlanternLight.rotateX(Math.PI / 10)\r\n\r\nlanternSingle.add(lanternBottom, lanternBase, lanternUpper, lanternLight);\r\n\r\nconst lanternsArray = new Array();\r\nconst lanternsBulbsArray = new Array();\r\n\r\nfor (let i = 0; i < 8; i++) {\r\n    lanternsArray[i] = lanternSingle.clone();\r\n    lanternsArray[i].scale.set(.075, .075, .075)\r\n    lanternsBulbsArray[i] = lanternBulb.clone();\r\n    for (let j = 0; j < 3; j++) {\r\n        lanternsArray[i].children[j].castShadow = true\r\n        lanternsArray[i].children[j].receiveShadow = true\r\n    }\r\n    if (i < 6) {\r\n        if (i % 2 == 0) {\r\n            lanternsArray[i].position.set(30 - i * 10, .8, 7.5)\r\n            lanternsBulbsArray[i].position.set(30 - i * 10, 8, 7.3)\r\n            lanternsBulbsArray[i].target.position.set(30 - i * 10, 0, 2.3)\r\n        } else {\r\n            lanternsArray[i].position.set(30 - i * 10, .8, -7.5)\r\n            lanternsArray[i].rotateY(Math.PI);\r\n            lanternsBulbsArray[i].position.set(30 - i * 10, 8, -7.3)\r\n            lanternsBulbsArray[i].target.position.set(30 - i * 10, 0, -2.3)\r\n        }\r\n        if (i > 2){\r\n            lanternsArray[i].translateX(10)\r\n            lanternsBulbsArray[i].translateX(-10)            \r\n            lanternsBulbsArray[i].target.translateX(-10)            \r\n        }\r\n        if (i == 4) {\r\n            lanternsArray[i].position.set(-20, .8, 7.5)\r\n        }\r\n    } else if (i == 7){\r\n        lanternsArray[i].rotateY(Math.PI/2);\r\n        lanternsArray[i].position.set(7.5, .8, 25)\r\n        lanternsBulbsArray[i].position.set(7.3, 8, 25)\r\n        lanternsBulbsArray[i].target.position.set(2.3, 0, 25)\r\n    } else {\r\n        lanternsArray[i].rotateY(-Math.PI * Math.pow(-1, i) / 2);\r\n        lanternsArray[i].position.set(-7.5, .8, 15)\r\n        lanternsBulbsArray[i].position.set(-7.3, 8, 15)\r\n        lanternsBulbsArray[i].target.position.set(-2.3, 0, 15)\r\n    }\r\n    scene.add(lanternsArray[i], lanternsBulbsArray[i], lanternsBulbsArray[i].target)\r\n}","// TRAFFICLIGHT.JS\r\n\r\nconst trafficLightUpperGeometry = new THREE.CylinderGeometry(1.5, 1.5, 85, 32);\r\nconst trafficLightHeadGeometry1 = new THREE.CylinderGeometry(5, 5, 25, 32, 1, false, 0, 3.15);\r\nconst trafficLightHeadGeometry2 = new THREE.PlaneGeometry(10, 25);\r\nconst trafficLightCylinderGeometry = new THREE.CylinderGeometry(3, 3, 2, 32);\r\n\r\nconst trafficLightHeadMaterial = new THREE.MeshStandardMaterial({ color: 0x34495e });\r\nconst trafficLightRedMaterial = new THREE.MeshStandardMaterial({ color: 0xff0000, transparent: true, opacity: .5 });\r\nconst trafficLightYellowMaterial = new THREE.MeshStandardMaterial({ color: 0xffff00, transparent: true, opacity: .5 });\r\nconst trafficLightGreenMaterial = new THREE.MeshStandardMaterial({ color: 0x00ff00, transparent: true, opacity: .5 });\r\n\r\nconst trafficLightBottom = lanternBottom.clone();\r\nconst trafficLightBase = lanternBase.clone();\r\nconst trafficLightUpper = new THREE.Mesh(trafficLightUpperGeometry, lanternMaterial)\r\nconst trafficLightHead1 = new THREE.Mesh(trafficLightHeadGeometry1, trafficLightHeadMaterial);\r\nconst trafficLightHead2 = new THREE.Mesh(trafficLightHeadGeometry2, trafficLightHeadMaterial);\r\nconst trafficLightRed = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightRedMaterial)\r\nconst trafficLightYellow = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightYellowMaterial)\r\nconst trafficLightGreen = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightGreenMaterial)\r\n\r\ntrafficLightBottom.position.set(0, 1, 0);\r\ntrafficLightBase.position.set(0, 45, 0)\r\ntrafficLightUpper.position.set(0, 95, -35)\r\ntrafficLightUpper.rotateX(Math.PI / 2)\r\ntrafficLightHead1.position.set(-4, 88, -60);\r\ntrafficLightHead2.position.set(-4, 88, -60);\r\ntrafficLightHead2.rotateY(-Math.PI / 2)\r\n\r\ntrafficLightSingle.add(\r\n    trafficLightBottom, trafficLightBase, trafficLightUpper,\r\n    trafficLightHead1, trafficLightHead2,\r\n    trafficLightRed, trafficLightYellow, trafficLightGreen\r\n)\r\n\r\nconst trafficLightArray = new Array();\r\n\r\nfor (let i = 0; i < 3; i++) {\r\n    let a = 0\r\n    trafficLightArray[i] = trafficLightSingle.clone();\r\n    trafficLightArray[i].scale.set(.075, .075, .075)\r\n    trafficLightArray[i].position.set(7.5 * Math.pow(-1, -i), .8, 7.5)\r\n    trafficLightArray[i].rotateY(-Math.PI - Math.PI * i)\r\n    // lanternsBulbsArray[i] = lanternBulb.clone();\r\n    for (let j = 0; j < 8; j++) {\r\n        if (j < 5) {\r\n            trafficLightArray[i].children[j].castShadow = true\r\n            trafficLightArray[i].children[j].receiveShadow = true\r\n        } else {\r\n            trafficLightArray[i].children[j].rotateZ(Math.PI / 2)\r\n            trafficLightArray[i].children[j].position.set(-5, 96 - a * 8, -60)\r\n            a++\r\n        }\r\n    }\r\n    if (i % 2 == 0) {\r\n        trafficLightArray[i].position.set(7.5, .8, -7.5)\r\n    }\r\n    if (i == 2) {\r\n        trafficLightArray[i].rotateY(-Math.PI / 2)\r\n        trafficLightArray[i].translateX(-15)\r\n    }\r\n    scene.add(trafficLightArray[i])\r\n}\r\n\r\n// const trafficLightBulb = new THREE.SpotLight(0xff0000, 1, 0, Math.PI / 4, 1, 2, 1);\r\n// trafficLightBulb.castShadow = true;\r\n// trafficLightBulb.position.set(7.75, 8, -3)\r\n// trafficLightBulb.target.position.set(7.8, 8, -3)\r\n// scene.add(trafficLightBulb, trafficLightBulb.target)\r\n\r\n// // const spotLightHelper = new THREE.SpotLightHelper(trafficLightBulb);\r\n// // scene.add(spotLightHelper);\r\n\r\n// trafficLightSingle.add(trafficLightRedCircle, trafficLightRedCircle2, trafficLightRedCylinder)\r\n\r\n// // const trafficLightBulb = new THREE.SpotLight(0xff0000, 1, 0, Math.PI / 4, 1, 2, 1);\r\n// // trafficLightBulb.castShadow = true;\r\n// // trafficLightBulb.position.set(7.75, 8, -3)\r\n// // trafficLightBulb.target.position.set(7.8, 8, -3)\r\n\r\n// // // const spotLightHelper = new THREE.SpotLightHelper(trafficLightBulb);\r\n// // // scene.add(spotLightHelper);\r\n\r\n// // scene.add(trafficLightBulb, trafficLightBulb.target)\r\n\r\n// trafficLightSingle.add(trafficLightYellowCircle, trafficLightYellowCircle2, trafficLightYellowCylinder)\r\n\r\n/* const trafficLightsAArray = new Array();\r\n\r\n/* setting multiple traffic lights (positioning, rotating, scaling)\r\n*/\r\n\r\n/* adding multiple traffic lights into group */\r\n// trafficLightsAArray.forEach(element => {\r\n// trafficLightsGroup.add(element);\r\n// });\r\n\r\n/* adding to scene all traffic lights */\r\n","/* TREE0.JS */\r\n\r\nconst woodGeometry = new THREE.CylinderGeometry(.5, .5, 8, 32);\r\nconst woodMaterial = new THREE.MeshStandardMaterial({ color: 0x611d00 });\r\nconst woodBase = new THREE.Mesh(woodGeometry, woodMaterial);\r\n\r\nconst leavesGeometry0 = new THREE.CylinderGeometry(.75, 5, 4, 10);\r\nconst leavesGeometry1 = new THREE.CylinderGeometry(.1, 5, 4, 10);\r\nconst leavesMaterial0 = new THREE.MeshStandardMaterial({ color: 0x20bf6b });\r\nconst leavesBase0 = new THREE.Mesh(leavesGeometry0, leavesMaterial0);\r\n\r\nconst tree0Leaves0 = leavesBase0\r\nconst tree0Leaves1 = tree0Leaves0.clone()\r\nconst tree0Leaves2 = tree0Leaves0.clone()\r\nconst tree0Leaves3 = tree0Leaves0.clone()\r\n\r\nconst tree0 = [\r\n    woodBase, tree0Leaves0, tree0Leaves1, tree0Leaves2, tree0Leaves3\r\n]\r\n\r\ntree0[1].position.set(0, -.25, 0);\r\n\r\ntree0[2].scale.set(.75, .75, .75);\r\ntree0[2].position.set(0, 1.5, 0);\r\n\r\ntree0[3].scale.set(.5, .5, .5);\r\ntree0[3].position.set(0, 3, 0);\r\n\r\ntree0[4].geometry = leavesGeometry1;\r\ntree0[4].scale.set(.375, .5, .375);\r\ntree0[4].position.set(0, 4.25, 0);\r\n\r\ntree0.forEach(element => {\r\n    element.castShadow = true\r\n    element.receiveShadow = true\r\n    tree0Single.add(element)\r\n});\r\n\r\nconst tree0Array = new Array()\r\n\r\nfor (let i = 0; i < 3; i++) {\r\n    tree0Array[i] = tree0Single.clone()\r\n\r\n    scene.add(tree0Array[i])\r\n}\r\n\r\ntree0Array[0].position.set(15, 4, 15)\r\ntree0Array[1].position.set(-15, 4, 15)\r\ntree0Array[2].position.set(-30, 4, 25)","/* TREE1.JS */\r\n\r\nconst leavesGeometry2 = new THREE.IcosahedronGeometry(3);\r\nconst leavesBase1 = new THREE.Mesh(leavesGeometry2, leavesMaterial0);\r\n\r\nconst tree1Leaves0 = leavesBase1\r\n\r\nconst tree1 = [\r\n    woodBase, tree1Leaves0\r\n]\r\n\r\ntree1Leaves0.position.set(0, 2.5, 0)\r\n\r\ntree1.forEach(element => {\r\n    element.castShadow = true\r\n    element.receiveShadow = true\r\n    tree1Single.add(element)\r\n});\r\n\r\nconst tree1Array = new Array()\r\n\r\nfor (let i = 0; i < 7; i++) {\r\n    tree1Array[i] = tree1Single.clone()\r\n\r\n    tree1Array[i].children[1].rotateY(Math.PI / Math.random() * 7 + 1)\r\n\r\n    scene.add(tree1Array[i])\r\n}\r\n\r\ntree1Array[0].position.set(15, 4, 25)\r\ntree1Array[1].position.set(-25, 4, 15)\r\ntree1Array[2].position.set(-20, 4, 22.5)\r\ntree1Array[3].position.set(-12.5, 4, 25)\r\ntree1Array[4].position.set(-17.5, 4, -12.5)\r\ntree1Array[5].position.set(17.5, 4, -12.5)\r\ntree1Array[6].position.set(-7.5, 4, -12.5)","/* HOUSE.JS */\r\n\r\nconst wallGeometry0 = new THREE.BoxGeometry(10, 5, .25);\r\nconst wallGeometry1 = new THREE.BoxGeometry(3.5, 5, .25);\r\nconst wallGeometry2 = new THREE.BoxGeometry(3, 1.75, .25);\r\nconst floorGeometry = new THREE.BoxGeometry(9.5, .25, 9.5);\r\nconst windowGeometry = new THREE.BoxGeometry(3, 1.5, .05);\r\n\r\nconst roofGeometry = new THREE.BufferGeometry();\r\nconst vertices = new Float32Array([\r\n    //FRONT\r\n    5.5, 2.5, 5.0,\r\n    0.0, 6.25, 5.0,\r\n    -5.5, 2.5, 5.0,\r\n    //RIGHT\r\n    5.5, 2.5, 5.0,\r\n    5.5, 2.5, -5.0,\r\n    0.0, 6.25, -5.0,\r\n    //\r\n    5.5, 2.5, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    0.0, 6.25, 5.0,\r\n    //LEFT\r\n    -5.5, 2.5, 5.0,\r\n    0.0, 6.25, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    //\r\n    -5.5, 2.5, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    -5.5, 2.5, -5.0,\r\n    //BACK\r\n    -5.5, 2.5, -5.0,\r\n    0.0, 6.25, -5.0,\r\n    5.5, 2.5, -5.0,\r\n    //BOTTOM\r\n    -5.5, 2.5, 5.0,\r\n    5.5, 2.5, -5.0,\r\n    5.5, 2.5, 5.0,\r\n    //\r\n    -5.5, 2.5, -5.0,\r\n    5.5, 2.5, -5.0,\r\n    -5.5, 2.5, 5.0,\r\n]);\r\nroofGeometry.setAttribute('position', new THREE.BufferAttribute(vertices, 3));\r\nroofGeometry.computeVertexNormals()\r\n\r\nconst floorMaterial = new THREE.MeshStandardMaterial({ color: 0xf7f1e3 });\r\nconst windowMaterial = new THREE.MeshStandardMaterial({ color: 0x7ed6df, transparent: true, opacity: .3 });\r\nconst wallMaterials = [\r\n    new THREE.MeshStandardMaterial({ color: 0x686de0 }),\r\n    new THREE.MeshStandardMaterial({ color: 0xe58e26 }),\r\n    new THREE.MeshStandardMaterial({ color: 0x6d214f }),\r\n    new THREE.MeshStandardMaterial({ color: 0x808e9b })\r\n]\r\n\r\nconst roofMaterials = [\r\n    new THREE.MeshStandardMaterial({ color: 0xff4757 }),\r\n    new THREE.MeshStandardMaterial({ color: 0x0c2461 }),\r\n    new THREE.MeshStandardMaterial({ color: 0xf97f51 }),\r\n    new THREE.MeshStandardMaterial({ color: 0x3dc1d3 })\r\n]\r\n\r\nconst wall0 = new THREE.Mesh(wallGeometry0, wallMaterials[0]);\r\nconst wall1 = new THREE.Mesh(wallGeometry1, wallMaterials[0]);\r\nconst wall2 = wall1.clone();\r\nconst wall3 = new THREE.Mesh(wallGeometry2, wallMaterials[0])\r\nconst wall4 = wall1.clone()\r\nconst wall5 = wall1.clone()\r\nconst wall6 = wall3.clone()\r\nconst wall7 = wall3.clone()\r\nconst wall8 = wall1.clone()\r\nconst wall9 = wall1.clone()\r\nconst wall10 = wall3.clone()\r\nconst wall11 = wall3.clone()\r\n\r\nconst floor0 = new THREE.Mesh(floorGeometry, floorMaterial);\r\nconst floor1 = floor0.clone();\r\n\r\nconst window0 = new THREE.Mesh(windowGeometry, windowMaterial);\r\nconst window1 = window0.clone();\r\n\r\nconst roof0 = new THREE.Mesh(roofGeometry, roofMaterials[0]);\r\n\r\n\r\nwall0.position.set(0, 0, -4.875);\r\nwall1.position.set(3, 0, 4.875);\r\nwall2.position.set(-3, 0, 4.875);\r\nwall3.position.set(0, 1.625, 4.875);\r\nwall4.position.set(4.875, 0, 3.25);\r\nwall5.position.set(4.875, 0, -3.25);\r\nwall6.position.set(4.875, -1.625, 0);\r\nwall7.position.set(4.875, 1.625, 0);\r\nwall8.position.set(-4.875, 0, 3.25);\r\nwall9.position.set(-4.875, 0, -3.25);\r\nwall10.position.set(-4.875, -1.625, 0);\r\nwall11.position.set(-4.875, 1.625, 0);\r\n\r\nfloor0.position.set(0, -2.375, 0);\r\nfloor1.position.set(0, 2.375, 0);\r\n\r\nwindow0.position.set(4.875, 0, 0);\r\nwindow1.position.set(-4.875, 0, 0);\r\n\r\nbuildingSingle.add(\r\n    wall0, wall1, wall2, wall3, wall4, wall5, wall6, wall7, wall8, wall9, wall10, wall11,\r\n    window0, window1,\r\n    floor0, floor1,\r\n    roof0\r\n)\r\n\r\nconst buildingArray = new Array();\r\n\r\nfor (let i = 0; i < 4; i++) {\r\n    buildingArray[i] = buildingSingle.clone();\r\n    buildingArray[i].position.set(-25 + 25 * i, 2.5, -20)\r\n    if (i == 3) {\r\n        buildingArray[i].position.set(25, 2.5, 20)\r\n        buildingArray[i].rotateY(Math.PI)\r\n    }\r\n    for (let j = 0; j < 17; j++) {\r\n        if (j > 3 && j < 15)\r\n            buildingArray[i].children[j].rotateY(Math.PI / 2)\r\n        buildingArray[i].children[j].castShadow = true\r\n        buildingArray[i].children[j].receiveShadow = true\r\n        if (j < 12) {\r\n            buildingArray[i].children[j].material = wallMaterials[i];\r\n        }\r\n        if (j == 16) {\r\n            buildingArray[i].children[j].material = roofMaterials[i];\r\n        }\r\n\r\n        if (j > 11 && j < 13) {\r\n            buildingArray[i].children[j].castShadow = false\r\n            buildingArray[i].children[j].receiveShadow = false\r\n        }\r\n    }\r\n    scene.add(buildingArray[i])\r\n}","//RENDER.JS\r\n\r\n/* render scene */\r\nrenderer.render(scene, camera);\r\n\r\n/* animation settings */\r\nfunction animate() {\r\n    requestAnimationFrame(animate);\r\n\r\n    // dobre/przetestowane wartosci\r\n    daySpotLight.position.x = 100 * Math.sin(Date.now() / 4800)\r\n    daySpotLight.position.y = 100 * Math.cos(Date.now() / 4800)\r\n\r\n    nightSpotLight.position.x = -100 * Math.sin(Date.now() / 4800)\r\n    nightSpotLight.position.y = -100 * Math.cos(Date.now() / 4800)\r\n    //\r\n\r\n    //te raczej tez\r\n    if (daySpotLight.position.y < 70 && daySpotLight.position.x > 0) {\r\n        daySpotLight.intensity -= .002\r\n        if (daySpotLight.intensity < .0009 || daySpotLight.position.y < -20) {\r\n            daySpotLight.intensity = 0\r\n        }\r\n        lanternsOn(daySpotLight.position.y);\r\n    }\r\n    if (daySpotLight.position.y > -20 && daySpotLight.position.x < 0) {\r\n        daySpotLight.intensity += .002\r\n        if (daySpotLight.intensity > .499) {\r\n            daySpotLight.intensity = .5\r\n        }\r\n        lanternsOff(daySpotLight.position.y);\r\n    }\r\n    if (daySpotLight.position.y < -10)\r\n        daySpotLight.intensity = 0     \r\n    \r\n    if (nightSpotLight.position.y < 70 && nightSpotLight.position.x > 0) {\r\n        nightSpotLight.intensity -= .001\r\n        if (nightSpotLight.intensity < .0009 || nightSpotLight.position.y < -20) {\r\n            nightSpotLight.intensity = 0\r\n        }\r\n    }\r\n    if (nightSpotLight.position.y > -20 && nightSpotLight.position.x < 0) {\r\n        nightSpotLight.intensity += .001\r\n        if (nightSpotLight.intensity > .249) {\r\n            nightSpotLight.intensity = .25\r\n        }\r\n    }\r\n    if (nightSpotLight.position.y < -10)\r\n        nightSpotLight.intensity = 0    \r\n    //\r\n    \r\n        \r\n        \r\n        \r\n    // console.log(nightSpotLight.intensity)\r\n        // console.log(daySpotLight.intensity)\r\n        // console.log(daySpotLight.position.y)\r\n    \r\n        // console.log(daySpotLight.intensity)\r\n    \r\n        // console.log(dayAmbientLight.intensity)\r\n        // console.log(daySpotLight.position.y)\r\n        // console.log(daySpotLight.position.x)\r\n    \r\n        // console.log(nightSpotLight.position.x)\r\n        // console.log(nightSpotLight.position.y)\r\n\r\n\r\n    \r\n\r\n    // if (daySpotLight.position.y < 75 && daySpotLight.position.y > -75) {\r\n\r\n    // }\r\n    // if (daySpotLight.intensity < 0) daySpotLight.intensity == 0\r\n    // else if (daySpotLight.position.y > -30 && daySpotLight.position.x < -60) {\r\n    //     if (daySpotLight.intensity > .05) daySpotLight.intensity == .05\r\n    //     daySpotLight.intensity += .05\r\n    // }\r\n    // if (daySpotLight.intensity < .05) daySpotLight.intensity = 0\r\n    // if (daySpotLight.intensity > .05) daySpotLight.intensity = .5\r\n\r\n\r\n\r\n    // nightSpotLight.position.x = -100 * Math.sin(Date.now() / 9600)\r\n    // nightSpotLight.position.y = -100 * Math.cos(Date.now() / 9600)\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // if (daySpotLight.position.y < 40) {\r\n    //     if (daySpotLight.intensity > .01) {\r\n    //         daySpotLight.intensity -= .005\r\n    //         // dayAmbientLight.intensity -= .005\r\n    //     }\r\n    //     else {\r\n    //         daySpotLight.intensity = 0\r\n    //         // dayAmbientLight.intensity = 0\r\n    //     }\r\n    // }\r\n    // else if (daySpotLight.position.y > -40) {\r\n    //     if (daySpotLight.intensity > .74) {\r\n    //         daySpotLight.intensity = .75\r\n    //         // dayAmbientLight.intensity = .5\r\n    //     }\r\n    //     else {\r\n    //         daySpotLight.intensity += .005\r\n    //         // dayAmbientLight.intensity += .005\r\n    //     }\r\n    // }\r\n\r\n    // if (nightSpotLight.position.y < 40) {\r\n    //     if (nightSpotLight.intensity > .01) {\r\n    //         nightSpotLight.intensity -= .0025\r\n    //         nightAmbientLight.intensity -= .0025\r\n    //     }\r\n    //     else {\r\n    //         nightSpotLight.intensity = 0\r\n    //         nightAmbientLight.intensity = 0\r\n    //     }\r\n    // }\r\n    // else if (nightSpotLight.position.y > -40) {\r\n    //     if (nightSpotLight.intensity > .74) {\r\n    //         nightSpotLight.intensity = .75\r\n    //         nightAmbientLight.intensity = .5\r\n    //     }\r\n    //     else {\r\n    //         nightSpotLight.intensity += .0025\r\n    //         nightAmbientLight.intensity += .0025\r\n    //     }\r\n    // }\r\n\r\n    // if (nightSpotLight.position.y > -10) {\r\n    //     if (nightSpotLight.intensity > .74)\r\n    //         nightSpotLight.intensity = .75\r\n    //     else nightSpotLight.intensity += .025\r\n    // }\r\n    // else if (nightSpotLight.position.y < 10) {\r\n    //     if (nightSpotLight.intensity > .01)\r\n    //         nightSpotLight.intensity -= .025\r\n    //     else nightSpotLight.intensity = 0\r\n    // }\r\n\r\n    // console.log(lanternsBulbsArray[0].children)\r\n\r\n    controls.update();\r\n    renderer.render(scene, camera);\r\n}\r\n\r\nfunction lanternsOff(y){\r\n    lanternsBulbsArray.forEach(e => {\r\n        if(e.intensity <= .01225 || y > 10) e.intensity = 0\r\n        else e.intensity -= .01225;\r\n    });\r\n    lanternsArray.forEach(e => {\r\n        if(e.children[3].material.opacity <= .1) e.children[3].material.opacity = .1;\r\n        else e.children[3].material.opacity -= .00225;\r\n        //if(f.material.opacity >= 1) f.material.opacity = 1\r\n        //else f.material.opacity += .05;\r\n    });\r\n    // lanternsArray.forEach(e => {\r\n    //     e.children.forEach(f => {\r\n    //         if(f.material.opacity <= .15) f.material.opacity = .1\r\n    //         else f.material.opacity -= .05;\r\n    //     });\r\n    // });\r\n}\r\n\r\nfunction lanternsOn(y){\r\n    lanternsBulbsArray.forEach(e => {\r\n        if(e.intensity >= .84 || y < -20) e.intensity = .85\r\n        else e.intensity += .01225;\r\n    });\r\n    lanternsArray.forEach(e => {\r\n        if(e.children[3].material.opacity >= 1) e.children[3].material.opacity = 1;\r\n        else e.children[3].material.opacity += .00225;\r\n        //if(f.material.opacity >= 1) f.material.opacity = 1\r\n        //else f.material.opacity += .05;\r\n    });\r\n    // lanternsArray.forEach(e => {\r\n    //     e.children.forEach(f => {\r\n    //         if(f.material.opacity >= 1) f.material.opacity = 1\r\n    //         else f.material.opacity += .05;\r\n    //     });\r\n    // });\r\n}\r\n\r\nanimate();"]}