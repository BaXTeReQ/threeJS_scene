{"version":3,"sources":["global.js","groups.js","grass.js","post.js","sidewalk.js","street.js","lantern.js","trafficLight.js","tree.js","house.js","render.js"],"names":["scene","THREE","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","renderer","WebGLRenderer","setClearColor","Color","setSize","shadowMap","enabled","type","PCFSoftShadowMap","controls","OrbitControls","domElement","document","getElementById","appendChild","textureLoader","TextureLoader","daySpotLight","SpotLight","shadow","mapSize","width","height","angle","Math","PI","castShadow","add","daySpotLightHelper","SpotLightHelper","ambientLight","AmbientLight","nightSpotLight","nightSpotLightHelper","grassGeometry","BoxGeometry","grassMaterial","MeshStandardMaterial","color","grassBase","Mesh","receiveShadow","grass0","clone","grass1","grass2","grass3","grass4","scale","postGeometry","CylinderGeometry","postMaterials","opacity","transparent","postElements","forEach","e","postSingle","Group","post0","post1","post2","post3","post4","post5","sidewalkGeometry","sidewalkMaterial","sidewalkBase","sidewalk0","sidewalk1","sidewalk2","sidewalk3","sidewalk4","sidewalk5","sidewalk6","roadTextures","load","streetGeometry","streetMaterials","map","side","DoubleSide","streetBase1","streetBase2","street0","street1","rotateY","lanternGeometry","lanternMaterials","MeshBasicMaterial","lanternElements","rotateX","lanternLight","lanternSingle","lantern0","lantern1","lantern2","lantern3","lantern4","lantern5","lantern6","lantern7","lanternLight0","lanternLight1","lanternLight2","lanternLight3","lanternLight4","lanternLight5","lanternLight6","lanternLight7","target","trafficLightGeometry","PlaneGeometry","trafficLightMaterials","trafficLightElements","rotateZ","trafficLightSingle","trafficLight0","trafficLight1","trafficLight2","treeGeometry","IcosahedronGeometry","treeMaterials","treeElements","tree0Single","tree1Single","tree0","tree1","tree2","tree3","tree4","tree5","tree6","tree7","tree8","tree9","random","houseTextures","houseGeometry","roofGeometry","BufferGeometry","roofVertices","Float32Array","setAttribute","BufferAttribute","computeVertexNormals","houseMaterials","roofMaterials","houseBase","roofBase","house0","house1","house2","house3","render","animate","requestAnimationFrame","update","lanternsOff","y","lanternsBulbsArray","intensity","lanternsArray","children","material","lanternsOn"],"mappings":"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","file":"../site.js","sourcesContent":["//GLOBAL.JS\r\n\r\n/* create a scene, that will hold all our elements such as objects, cameras and lights. */\r\nconst scene = new THREE.Scene();\r\n\r\n/* create a camera, which defines where we're looking at. */\r\nconst camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n\r\n/* position and point the camera to the center of the scene */\r\ncamera.position.set(35, 35, -35);\r\n// camera.position.set(15, 15, -15)\r\n// camera.position.set(5, 5, 15)\r\n\r\n/* create a render and set the size */\r\nconst renderer = new THREE.WebGLRenderer();\r\n\r\n// renderer.setClearColor(new THREE.Color(0xdddddd));\r\nrenderer.setClearColor(new THREE.Color(0x222222));\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\nrenderer.shadowMap.enabled = true;\r\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n\r\n/* add OrbitControls */\r\nconst controls = new THREE.OrbitControls(camera, renderer.domElement);\r\n\r\n/* add the output of the renderer to the html element */\r\ndocument.getElementById(\"WebGL-output\").appendChild(renderer.domElement);\r\n\r\n/* texture loader */\r\nconst textureLoader = new THREE.TextureLoader();\r\n\r\n/* day light */\r\nconst daySpotLight = new THREE.SpotLight(0xfdfbd3, .5)\r\ndaySpotLight.position.set(0, 100, 0);\r\ndaySpotLight.shadow.mapSize.width = 2048;\r\ndaySpotLight.shadow.mapSize.height = 2048;\r\ndaySpotLight.angle = Math.PI / 4;\r\ndaySpotLight.castShadow = true;\r\nscene.add(daySpotLight);\r\n\r\n/* day light helper */\r\nconst daySpotLightHelper = new THREE.SpotLightHelper(daySpotLight);\r\nscene.add(daySpotLightHelper)\r\n\r\n/* add ambient light for better effect */\r\nconst ambientLight = new THREE.AmbientLight(0x494949, .5);\r\nscene.add(ambientLight);\r\n\r\n/* night light */\r\nconst nightSpotLight = new THREE.SpotLight(0xa5b1c2, .25)\r\nnightSpotLight.position.set(0, -100, 0);\r\nnightSpotLight.shadow.mapSize.width = 2048;\r\nnightSpotLight.shadow.mapSize.height = 2048;\r\nnightSpotLight.angle = Math.PI / 4;\r\nnightSpotLight.castShadow = true;\r\nscene.add(nightSpotLight);\r\n\r\n/* night light helper */\r\nconst nightSpotLightHelper = new THREE.SpotLightHelper(nightSpotLight);\r\nscene.add(nightSpotLightHelper)","/* GROUPS.JS */\r\n\r\n/* groups for objects */\r\n// const lanternSingle = new THREE.Group();\r\n// const trafficLightSingle = new THREE.Group();\r\n// const lampSingle = new THREE.Group();\r\n// const buildingSingle = new THREE.Group();\r\n// const buildingsGroup = new THREE.Group();\r\n// const tree0Single = new THREE.Group();\r\n// const tree1Single = new THREE.Group();","/* GRASS.JS */\r\n\r\n/* geometry */\r\nconst grassGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\n\r\n/* material */\r\nconst grassMaterial = new THREE.MeshStandardMaterial({ color: 0x27ae60 });\r\n\r\n/* base obejct */\r\nconst grassBase = new THREE.Mesh(grassGeometry, grassMaterial);\r\n\r\n/* shadows */\r\ngrassBase.receiveShadow = true;\r\n\r\n/* grass objects */\r\nconst grass0 = grassBase.clone()\r\nconst grass1 = grassBase.clone()\r\nconst grass2 = grassBase.clone()\r\nconst grass3 = grassBase.clone()\r\nconst grass4 = grassBase.clone()\r\n\r\n/* positions */\r\ngrass0.position.set(22.5, 0, 20)\r\ngrass1.position.set(-22.5, 0, 20)\r\ngrass2.position.set(25, 0, -20)\r\ngrass3.position.set(0, 0, -20)\r\ngrass4.position.set(-25, 0, -20)\r\n\r\n/* scales */\r\ngrass0.scale.set(25, 1, 20)\r\ngrass1.scale.set(25, 1, 20)\r\ngrass2.scale.set(20, 1, 20)\r\ngrass3.scale.set(20, 1, 20)\r\ngrass4.scale.set(20, 1, 20)\r\n\r\n/* adding to scene */\r\nscene.add(grass0, grass1, grass2, grass3, grass4)","/* post.JS */\r\n\r\n/* geometry */\r\nconst postGeometry = new THREE.CylinderGeometry(1, 1, 7, 32);\r\n\r\n/* materials */\r\nconst postMaterials = [\r\n    new THREE.MeshStandardMaterial({ color: 0x95a5a6 }),\r\n    new THREE.MeshStandardMaterial({ color: 0xffffff, opacity: .5, transparent: true })\r\n]\r\n\r\n/* elements for post */\r\nconst postElements = [\r\n    new THREE.Mesh(postGeometry, postMaterials[0]),\r\n    new THREE.Mesh(postGeometry, postMaterials[1]),\r\n    new THREE.Mesh(postGeometry, postMaterials[0])\r\n]\r\n\r\n/* positions for post elements */\r\npostElements[0].position.set(0, 0, 0);\r\npostElements[1].position.set(0, 4.2, 0)\r\npostElements[2].position.set(0, 5.25, 0)\r\n\r\n/* scales for post elements */\r\npostElements[1].scale.set(1, .2, 1)\r\npostElements[2].scale.set(1, .1, 1)\r\n\r\n/* shadows for post elements */\r\npostElements.forEach(e => {\r\n    e.receiveShadow = true\r\n    e.castShadow = true\r\n});\r\n\r\n/* group for post elements */\r\nconst postSingle = new THREE.Group()\r\npostSingle.add(postElements[0], postElements[1], postElements[2])\r\n\r\n/* scale for group */\r\npostSingle.scale.set(.2, .2, .2)\r\n\r\n/* post objects */\r\nconst post0 = postSingle.clone()\r\nconst post1 = postSingle.clone()\r\nconst post2 = postSingle.clone()\r\nconst post3 = postSingle.clone()\r\nconst post4 = postSingle.clone()\r\nconst post5 = postSingle.clone()\r\n\r\n/* positions for objects */\r\npost0.position.set(12.5, .8, -15)\r\npost1.position.set(12.5, .8, -20)\r\npost2.position.set(12.5, .8, -25)\r\npost3.position.set(-12.5, .8, -15)\r\npost4.position.set(-12.5, .8, -20)\r\npost5.position.set(-12.5, .8, -25)\r\n\r\n/* adding to scene */\r\nscene.add(post0, post1, post2, post3, post4, post5)","/* SIDEWALK.JS */\r\n\r\n/* geometry */\r\nconst sidewalkGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\n\r\n/* material */\r\nconst sidewalkMaterial = new THREE.MeshStandardMaterial({ color: 0xf7f1e3 });\r\n\r\n/* base obejct */\r\nconst sidewalkBase = new THREE.Mesh(sidewalkGeometry, sidewalkMaterial);\r\n\r\n/* shadows */\r\nsidewalkBase.receiveShadow = true;\r\n// sidewalkBase.receiveShadow = true;\r\n\r\n/* sidewalks objects */\r\nconst sidewalk0 = sidewalkBase.clone()\r\nconst sidewalk1 = sidewalkBase.clone()\r\nconst sidewalk2 = sidewalkBase.clone()\r\nconst sidewalk3 = sidewalkBase.clone()\r\nconst sidewalk4 = sidewalkBase.clone()\r\nconst sidewalk5 = sidewalkBase.clone()\r\nconst sidewalk6 = sidewalkBase.clone()\r\n\r\n/* positions */\r\nsidewalk0.position.set(12.5, .05, -20)\r\nsidewalk1.position.set(-12.5, .05, -20)\r\nsidewalk2.position.set(7.5, .05, 20)\r\nsidewalk3.position.set(-7.5, .05, 20)\r\nsidewalk4.position.set(0, .05, -7.5)\r\nsidewalk5.position.set(20, .05, 7.5)\r\nsidewalk6.position.set(-20, .05, 7.5)\r\n\r\n/* scales */\r\nsidewalk0.scale.set(5, 2, 20)\r\nsidewalk1.scale.set(5, 2, 20)\r\nsidewalk2.scale.set(5, 2, 20)\r\nsidewalk3.scale.set(5, 2, 20)\r\nsidewalk4.scale.set(70, 2, 5)\r\nsidewalk5.scale.set(30, 2, 5)\r\nsidewalk6.scale.set(30, 2, 5)\r\n\r\n/* adding to scene */\r\nscene.add(sidewalk0, sidewalk1, sidewalk2, sidewalk3, sidewalk4, sidewalk5, sidewalk6)","//STREET.JS\r\n\r\n/* textures */\r\nconst roadTextures = [\r\n    textureLoader.load('../ProjektGrafika/textures/road1.png'),\r\n    textureLoader.load('../ProjektGrafika/textures/road2.png')\r\n]\r\n\r\n/* geometry */\r\nconst streetGeometry = new THREE.BoxGeometry(1, 0.1, 1);\r\n\r\n/* materials */\r\nconst streetMaterials = [\r\n    new THREE.MeshStandardMaterial({color: 0xffffff, map: roadTextures[0], side: THREE.DoubleSide}),\r\n    new THREE.MeshStandardMaterial({color: 0xffffff, map: roadTextures[1], side: THREE.DoubleSide})\r\n]\r\n\r\n/* objects */\r\nconst streetBase1 = new THREE.Mesh(streetGeometry, streetMaterials[0]);\r\nconst streetBase2 = new THREE.Mesh(streetGeometry, streetMaterials[1]);\r\n\r\n/* shadows */\r\nstreetBase1.receiveShadow = true;\r\nstreetBase2.receiveShadow = true;\r\n\r\n/* street objects */\r\nconst street0 = streetBase1.clone()\r\nconst street1 = streetBase2.clone()\r\n\r\n/* positions */\r\nstreet0.position.set(0, 0, 17.5)\r\nstreet1.position.set(0, 0, 0)\r\n\r\n/* scales */\r\nstreet0.scale.set(10, 1, 25)\r\nstreet1.scale.set(10, 1, 70)\r\n\r\n/* rotation */\r\nstreet1.rotateY(Math.PI / 2)\r\n\r\n/* adding to scene */\r\nscene.add(street0, street1)","// /* LANTERN.JS */\r\n\r\n/* geometry */\r\nconst lanternGeometry = [\r\n    /* bottom */new THREE.CylinderGeometry(2, 5, 20, 32),\r\n    /* base */new THREE.CylinderGeometry(1.5, 1.5, 100, 32),\r\n    /* upper */new THREE.BoxGeometry(7.5, 2, 12.5),\r\n    /* light */new THREE.BoxGeometry(4, 1, 9)\r\n]\r\n\r\n/* material */\r\nconst lanternMaterials = [\r\n    /* base */new THREE.MeshStandardMaterial({ color: 0x95a5a6 }),\r\n    /* light */new THREE.MeshBasicMaterial({ color: 0xffffff, opacity: .9 /*do zmiany miedzy dniem a noca opacity: .1*/, transparent: true })\r\n]\r\n\r\n/* elements for lantern */\r\nconst lanternElements = [\r\n    /* bottom */new THREE.Mesh(lanternGeometry[0], lanternMaterials[0]),\r\n    /* base */new THREE.Mesh(lanternGeometry[1], lanternMaterials[0]),\r\n    /* upper */new THREE.Mesh(lanternGeometry[2], lanternMaterials[0]),\r\n    /* light */new THREE.Mesh(lanternGeometry[3], lanternMaterials[1])\r\n]\r\n\r\n/* positions for lantern elements */\r\nlanternElements[0].position.set(0, 1, 0)\r\nlanternElements[1].position.set(0, 45, 0)\r\nlanternElements[2].position.set(0, 96, -5)\r\nlanternElements[3].position.set(0, 95, -6)\r\n\r\n/* rotation for lantern element */\r\nlanternElements[2].rotateX(Math.PI / 10)\r\nlanternElements[3].rotateX(Math.PI / 10)\r\n\r\n/* shadows for elements */\r\nlanternElements.forEach(e => {\r\n    e.castShadow = true\r\n    e.receiveShadow = true\r\n});\r\n\r\n/* light for lanterns */\r\nconst lanternLight = new THREE.SpotLight(0xffffff, .75, 0, Math.PI / 5, 1, 1);\r\n\r\n/* shadow casting for light */\r\nlanternLight.castShadow = true;\r\n\r\n/* group for lantern elements */\r\nconst lanternSingle = new THREE.Group()\r\nlanternSingle.add(lanternElements[0], lanternElements[1], lanternElements[2], lanternElements[3]);\r\n\r\n/* scale for group */\r\nlanternSingle.scale.set(.075, .075, .075)\r\n\r\n/* lantern objects */\r\nconst lantern0 = lanternSingle.clone()\r\nconst lantern1 = lanternSingle.clone()\r\nconst lantern2 = lanternSingle.clone()\r\nconst lantern3 = lanternSingle.clone()\r\nconst lantern4 = lanternSingle.clone()\r\nconst lantern5 = lanternSingle.clone()\r\nconst lantern6 = lanternSingle.clone()\r\nconst lantern7 = lanternSingle.clone()\r\n\r\n/* lights for lanterns */\r\nconst lanternLight0 = lanternLight.clone()\r\nconst lanternLight1 = lanternLight.clone()\r\nconst lanternLight2 = lanternLight.clone()\r\nconst lanternLight3 = lanternLight.clone()\r\nconst lanternLight4 = lanternLight.clone()\r\nconst lanternLight5 = lanternLight.clone()\r\nconst lanternLight6 = lanternLight.clone()\r\nconst lanternLight7 = lanternLight.clone()\r\n\r\n/* positions */\r\nlantern0.position.set(30, .8, -7.5)\r\nlantern1.position.set(10, .8, -7.5)\r\nlantern2.position.set(-20, .8, -7.5)\r\nlantern3.position.set(20, .8, 7.5)\r\nlantern4.position.set(-10, .8, 7.5)\r\nlantern5.position.set(-30, .8, 7.5)\r\nlantern6.position.set(-7.5, .8, 15)\r\nlantern7.position.set(7.5, .8, 25)\r\n\r\nlanternLight0.position.set(30, 8, -7.3)\r\nlanternLight1.position.set(10, 8, -7.3)\r\nlanternLight2.position.set(-20, 8, -7.3)\r\nlanternLight3.position.set(20, 8, 7.3)\r\nlanternLight4.position.set(-10, 8, 7.3)\r\nlanternLight5.position.set(-30, 8, 7.3)\r\nlanternLight6.position.set(-7.3, 8, 15)\r\nlanternLight7.position.set(7.3, 8, 25)\r\n\r\nlanternLight0.target.position.set(30, 2, -2.5)\r\nlanternLight1.target.position.set(10, 2, -2.5)\r\nlanternLight2.target.position.set(-20, 2, -2.5)\r\nlanternLight3.target.position.set(20, 2, 2.5)\r\nlanternLight4.target.position.set(-10, 2, 2.5)\r\nlanternLight5.target.position.set(-30, 2, 2.5)\r\nlanternLight6.target.position.set(-2.5, 2, 15)\r\nlanternLight7.target.position.set(2.5, 2, 25)\r\n\r\n/* rotations */\r\nlantern0.rotateY(Math.PI)\r\nlantern1.rotateY(Math.PI)\r\nlantern2.rotateY(Math.PI)\r\nlantern6.rotateY(-Math.PI / 2)\r\nlantern7.rotateY(Math.PI / 2)\r\n\r\n/* adding to scene */\r\nscene.add(\r\n    lantern0, lantern1, lantern2, lantern3, lantern4, lantern5, lantern6, lantern7, \r\n    lanternLight0, lanternLight1, lanternLight2, lanternLight3, lanternLight4, lanternLight5, lanternLight6, lanternLight7,\r\n    lanternLight0.target, lanternLight1.target, lanternLight2.target, lanternLight3.target, lanternLight4.target, lanternLight5.target, lanternLight6.target, lanternLight7.target \r\n)","// TRAFFICLIGHT.JS\r\n\r\n/* geometry */\r\nconst trafficLightGeometry = [\r\n    /* bottom */new THREE.CylinderGeometry(2, 5, 20, 32),\r\n    /* base */new THREE.CylinderGeometry(1.5, 1.5, 100, 32),\r\n    /* upper */new THREE.CylinderGeometry(1.5, 1.5, 85, 32),\r\n    /* head1 */new THREE.CylinderGeometry(5, 5, 25, 32, 1, false, 0, 3.15),\r\n    /* head2 */new THREE.PlaneGeometry(10, 25),\r\n    /* light */new THREE.CylinderGeometry(3, 3, 2, 32)\r\n]\r\n\r\n/* material */\r\nconst trafficLightMaterials = [\r\n    /* base */new THREE.MeshStandardMaterial({ color: 0x95a5a6 }),\r\n    /* head */new THREE.MeshStandardMaterial({ color: 0x34495e }),\r\n    /* lightRed */new THREE.MeshStandardMaterial({ color: 0xff0000, transparent: true, opacity: .9 }),\r\n    /* lightYellow */new THREE.MeshStandardMaterial({ color: 0xffff00, transparent: true, opacity: .9 }),\r\n    /* lightGreen */new THREE.MeshStandardMaterial({ color: 0x00ff00, transparent: true, opacity: .9 }),\r\n]\r\n\r\nconst trafficLightElements = [\r\n    /* bottom */new THREE.Mesh(trafficLightGeometry[0], trafficLightMaterials[0]),\r\n    /* base */new THREE.Mesh(trafficLightGeometry[1], trafficLightMaterials[0]),\r\n    /* upper */new THREE.Mesh(trafficLightGeometry[2], trafficLightMaterials[0]),\r\n    /* head1 */new THREE.Mesh(trafficLightGeometry[3], trafficLightMaterials[1]),\r\n    /* head2 */new THREE.Mesh(trafficLightGeometry[4], trafficLightMaterials[1]),\r\n    /* lightRed */new THREE.Mesh(trafficLightGeometry[5], trafficLightMaterials[2]),\r\n    /* lightYellow */new THREE.Mesh(trafficLightGeometry[5], trafficLightMaterials[3]),\r\n    /* lightGreen */new THREE.Mesh(trafficLightGeometry[5], trafficLightMaterials[4]),\r\n]\r\n\r\n/* shawows for trafficLight elements */\r\ntrafficLightElements.forEach(e => {\r\n    e.castShadow = true\r\n    e.receiveShadow = true\r\n});\r\n\r\n/* positions for lantern elements */\r\ntrafficLightElements[0].position.set(0, 1, 0)\r\ntrafficLightElements[1].position.set(0, 45, 0)\r\ntrafficLightElements[2].position.set(0, 95, 35)\r\ntrafficLightElements[3].position.set(4, 88, 60)\r\ntrafficLightElements[4].position.set(4, 88, 60)\r\ntrafficLightElements[5].position.set(5, 96, 60)\r\ntrafficLightElements[6].position.set(5, 88, 60)\r\ntrafficLightElements[7].position.set(5, 80, 60)\r\n\r\n/* rotations for lantern elements */\r\ntrafficLightElements[2].rotateX(Math.PI / 2)\r\ntrafficLightElements[3].rotateY(Math.PI)\r\ntrafficLightElements[4].rotateY(Math.PI / 2)\r\ntrafficLightElements[5].rotateZ(Math.PI / 2)\r\ntrafficLightElements[6].rotateZ(Math.PI / 2)\r\ntrafficLightElements[7].rotateZ(Math.PI / 2)\r\n\r\n/* group for lantern elements */\r\nconst trafficLightSingle = new THREE.Group()\r\ntrafficLightSingle.add(trafficLightElements[0], trafficLightElements[1], trafficLightElements[2], trafficLightElements[3], trafficLightElements[4], trafficLightElements[5], trafficLightElements[6], trafficLightElements[7])\r\n\r\n/* scale for group */\r\ntrafficLightSingle.scale.set(.075, .075, .075)\r\n\r\n/* trafficLight objects */\r\nconst trafficLight0 = trafficLightSingle.clone()\r\nconst trafficLight1 = trafficLightSingle.clone()\r\nconst trafficLight2 = trafficLightSingle.clone()\r\n\r\n/* positions */\r\ntrafficLight0.position.set(7.5, .8, -7.5)\r\ntrafficLight1.position.set(-7.5, .8, 7.5)\r\ntrafficLight2.position.set(7.5, .8, 7.5)\r\n\r\n/* rotations */\r\ntrafficLight1.rotateY(Math.PI)\r\ntrafficLight2.rotateY(-Math.PI / 2)\r\n\r\n/* adding to scene */\r\nscene.add(trafficLight0, trafficLight1, trafficLight2)\r\n\r\n\r\n// const trafficLightUpperGeometry = new THREE.CylinderGeometry(1.5, 1.5, 85, 32);\r\n// const trafficLightHeadGeometry1 = new THREE.CylinderGeometry(5, 5, 25, 32, 1, false, 0, 3.15);\r\n// const trafficLightHeadGeometry2 = new THREE.PlaneGeometry(10, 25);\r\n// const trafficLightCylinderGeometry = new THREE.CylinderGeometry(3, 3, 2, 32);\r\n\r\n// const trafficLightHeadMaterial = new THREE.MeshStandardMaterial({ color: 0x34495e });\r\n// const trafficLightRedMaterial = new THREE.MeshStandardMaterial({ color: 0xff0000, transparent: true, opacity: .5 });\r\n// const trafficLightYellowMaterial = new THREE.MeshStandardMaterial({ color: 0xffff00, transparent: true, opacity: .5 });\r\n// const trafficLightGreenMaterial = new THREE.MeshStandardMaterial({ color: 0x00ff00, transparent: true, opacity: .5 });\r\n\r\n// const trafficLightBottom = lanternBottom.clone();\r\n// const trafficLightBase = lanternBase.clone();\r\n// const trafficLightUpper = new THREE.Mesh(trafficLightUpperGeometry, lanternMaterial)\r\n// const trafficLightHead1 = new THREE.Mesh(trafficLightHeadGeometry1, trafficLightHeadMaterial);\r\n// const trafficLightHead2 = new THREE.Mesh(trafficLightHeadGeometry2, trafficLightHeadMaterial);\r\n// const trafficLightRed = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightRedMaterial)\r\n// const trafficLightYellow = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightYellowMaterial)\r\n// const trafficLightGreen = new THREE.Mesh(trafficLightCylinderGeometry, trafficLightGreenMaterial)\r\n\r\n// trafficLightBottom.position.set(0, 1, 0);\r\n// trafficLightBase.position.set(0, 45, 0)\r\n// trafficLightUpper.position.set(0, 95, -35)\r\n// trafficLightUpper.rotateX(Math.PI / 2)\r\n// trafficLightHead1.position.set(-4, 88, -60);\r\n// trafficLightHead2.position.set(-4, 88, -60);\r\n// trafficLightHead2.rotateY(-Math.PI / 2)\r\n\r\n// trafficLightSingle.add(\r\n//     trafficLightBottom, trafficLightBase, trafficLightUpper,\r\n//     trafficLightHead1, trafficLightHead2,\r\n//     trafficLightRed, trafficLightYellow, trafficLightGreen\r\n// )\r\n\r\n// const trafficLightArray = new Array();\r\n\r\n// for (let i = 0; i < 3; i++) {\r\n//     let a = 0\r\n//     trafficLightArray[i] = trafficLightSingle.clone();\r\n//     trafficLightArray[i].scale.set(.075, .075, .075)\r\n//     trafficLightArray[i].position.set(7.5 * Math.pow(-1, -i), .8, 7.5)\r\n//     trafficLightArray[i].rotateY(-Math.PI - Math.PI * i)\r\n//     // lanternsBulbsArray[i] = lanternBulb.clone();\r\n//     for (let j = 0; j < 8; j++) {\r\n//         if (j < 5) {\r\n//             trafficLightArray[i].children[j].castShadow = true\r\n//             trafficLightArray[i].children[j].receiveShadow = true\r\n//         } else {\r\n//             trafficLightArray[i].children[j].rotateZ(Math.PI / 2)\r\n//             trafficLightArray[i].children[j].position.set(-5, 96 - a * 8, -60)\r\n//             a++\r\n//         }\r\n//     }\r\n//     if (i % 2 == 0) {\r\n//         trafficLightArray[i].position.set(7.5, .8, -7.5)\r\n//     }\r\n//     if (i == 2) {\r\n//         trafficLightArray[i].rotateY(-Math.PI / 2)\r\n//         trafficLightArray[i].translateX(-15)\r\n//     }\r\n//     scene.add(trafficLightArray[i])\r\n// }\r\n\r\n// // const trafficLightBulb = new THREE.SpotLight(0xff0000, 1, 0, Math.PI / 4, 1, 2, 1);\r\n// // trafficLightBulb.castShadow = true;\r\n// // trafficLightBulb.position.set(7.75, 8, -3)\r\n// // trafficLightBulb.target.position.set(7.8, 8, -3)\r\n// // scene.add(trafficLightBulb, trafficLightBulb.target)\r\n\r\n// // // const spotLightHelper = new THREE.SpotLightHelper(trafficLightBulb);\r\n// // // scene.add(spotLightHelper);\r\n\r\n// // trafficLightSingle.add(trafficLightRedCircle, trafficLightRedCircle2, trafficLightRedCylinder)\r\n\r\n// // // const trafficLightBulb = new THREE.SpotLight(0xff0000, 1, 0, Math.PI / 4, 1, 2, 1);\r\n// // // trafficLightBulb.castShadow = true;\r\n// // // trafficLightBulb.position.set(7.75, 8, -3)\r\n// // // trafficLightBulb.target.position.set(7.8, 8, -3)\r\n\r\n// // // // const spotLightHelper = new THREE.SpotLightHelper(trafficLightBulb);\r\n// // // // scene.add(spotLightHelper);\r\n\r\n// // // scene.add(trafficLightBulb, trafficLightBulb.target)\r\n\r\n// // trafficLightSingle.add(trafficLightYellowCircle, trafficLightYellowCircle2, trafficLightYellowCylinder)\r\n\r\n// /* const trafficLightsAArray = new Array();\r\n\r\n// /* setting multiple traffic lights (positioning, rotating, scaling)\r\n// */\r\n\r\n// /* adding multiple traffic lights into group */\r\n// // trafficLightsAArray.forEach(element => {\r\n// // trafficLightsGroup.add(element);\r\n// // });\r\n\r\n// /* adding to scene all traffic lights */\r\n","/* TREE0.JS */\r\n\r\n/* geometry */\r\nconst treeGeometry = [\r\n    /* trunk */new THREE.CylinderGeometry(.5, .5, 8, 32),\r\n    /* leaves0 */new THREE.CylinderGeometry(.75, 5, 4, 10),\r\n    /* leaves1 */new THREE.CylinderGeometry(.1, 5, 4, 10),\r\n    /* leaves2 */new THREE.IcosahedronGeometry(3)\r\n]\r\n\r\n/* materials */\r\nconst treeMaterials = [\r\n    /* trunk */new THREE.MeshStandardMaterial({ color: 0x611d00 }),\r\n    /* leaves0 */new THREE.MeshStandardMaterial({ color: 0x20bf6b })\r\n]\r\n\r\n/* elements for tree */\r\nconst treeElements = [\r\n    /* trunk */new THREE.Mesh(treeGeometry[0], treeMaterials[0]),\r\n    /* leaves0 */new THREE.Mesh(treeGeometry[1], treeMaterials[1]),\r\n    /* leaves1 */new THREE.Mesh(treeGeometry[1], treeMaterials[1]),\r\n    /* leaves2 */new THREE.Mesh(treeGeometry[1], treeMaterials[1]),\r\n    /* leaves3 */new THREE.Mesh(treeGeometry[2], treeMaterials[1]),\r\n    /* leaves4 */new THREE.Mesh(treeGeometry[3], treeMaterials[1])\r\n]\r\n\r\n/* shadows for tree elements */\r\ntreeElements.forEach(e => {\r\n    e.receiveShadow = true\r\n    e.castShadow = true\r\n});\r\n\r\n/* positions for tree elements */\r\ntreeElements[0].position.set(0, 0, 0)\r\ntreeElements[1].position.set(0, -.25, 0)\r\ntreeElements[2].position.set(0, 1.5, 0)\r\ntreeElements[3].position.set(0, 3, 0)\r\ntreeElements[4].position.set(0, 4.25, 0)\r\ntreeElements[5].position.set(0, 2.5, 0)\r\n\r\n/* scale for tree elements */\r\ntreeElements[2].scale.set(.75, .75, .75)\r\ntreeElements[3].scale.set(.5, .5, .5)\r\ntreeElements[4].scale.set(.375, .5, .375)\r\n\r\n/* group for tree elements */\r\nconst tree0Single = new THREE.Group()\r\nconst tree1Single = new THREE.Group()\r\ntree0Single.add(treeElements[0], treeElements[1], treeElements[2], treeElements[3], treeElements[4])\r\ntree1Single.add(treeElements[0], treeElements[5])\r\n\r\n/* tree objects */\r\nconst tree0 = tree0Single.clone()\r\nconst tree1 = tree0Single.clone()\r\nconst tree2 = tree0Single.clone()\r\nconst tree3 = tree1Single.clone()\r\nconst tree4 = tree1Single.clone()\r\nconst tree5 = tree1Single.clone()\r\nconst tree6 = tree1Single.clone()\r\nconst tree7 = tree1Single.clone()\r\nconst tree8 = tree1Single.clone()\r\nconst tree9 = tree1Single.clone()\r\n\r\n/* positions */\r\ntree0.position.set(15, 4, 15)\r\ntree1.position.set(-15, 4, 15)\r\ntree2.position.set(-30, 4, 25)\r\ntree3.position.set(15, 4, 25)\r\ntree4.position.set(-25, 4, 15)\r\ntree5.position.set(-20, 4, 22.5)\r\ntree6.position.set(-12.5, 4, 25)\r\ntree7.position.set(-17.5, 4, -12.5)\r\ntree8.position.set(17.5, 4, -12.5)\r\ntree9.position.set(-7.5, 4, -12.5)\r\n\r\n/* rotation for tree leaves */\r\ntree3.rotateY(Math.PI / Math.random() * 7 + 1)\r\ntree4.rotateY(Math.PI / Math.random() * 7 + 1)\r\ntree5.rotateY(Math.PI / Math.random() * 7 + 1)\r\ntree6.rotateY(Math.PI / Math.random() * 7 + 1)\r\ntree7.rotateY(Math.PI / Math.random() * 7 + 1)\r\ntree8.rotateY(Math.PI / Math.random() * 7 + 1)\r\ntree9.rotateY(Math.PI / Math.random() * 7 + 1)\r\n\r\n/* adding to scene */\r\nscene.add(\r\n    tree0, tree1, tree2, \r\n    tree3, tree4, tree5, tree6, tree7, tree8, tree9\r\n)","/* HOUSE.JS */\r\n\r\n/* textures */\r\nconst houseTextures = [\r\n    textureLoader.load('../ProjektGrafika/textures/wallTexture1.png'),\r\n    textureLoader.load('../ProjektGrafika/textures/wallTexture2.png'),\r\n    textureLoader.load('../ProjektGrafika/textures/wallTexture3.png'),\r\n    textureLoader.load('../ProjektGrafika/textures/wallTexture4.png')\r\n]\r\n\r\n/* geometries */\r\nconst houseGeometry = new THREE.BoxGeometry(10, 5, 10);\r\n\r\nconst roofGeometry = new THREE.BufferGeometry();\r\nconst roofVertices = new Float32Array([\r\n    //FRONT\r\n    5.5, 2.5, 5.0,\r\n    0.0, 6.25, 5.0,\r\n    -5.5, 2.5, 5.0,\r\n    //RIGHT\r\n    5.5, 2.5, 5.0,\r\n    5.5, 2.5, -5.0,\r\n    0.0, 6.25, -5.0,\r\n    //\r\n    5.5, 2.5, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    0.0, 6.25, 5.0,\r\n    //LEFT\r\n    -5.5, 2.5, 5.0,\r\n    0.0, 6.25, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    //\r\n    -5.5, 2.5, 5.0,\r\n    0.0, 6.25, -5.0,\r\n    -5.5, 2.5, -5.0,\r\n    //BACK\r\n    -5.5, 2.5, -5.0,\r\n    0.0, 6.25, -5.0,\r\n    5.5, 2.5, -5.0,\r\n    //BOTTOM\r\n    -5.5, 2.5, 5.0,\r\n    5.5, 2.5, -5.0,\r\n    5.5, 2.5, 5.0,\r\n    //\r\n    -5.5, 2.5, -5.0,\r\n    5.5, 2.5, -5.0,\r\n    -5.5, 2.5, 5.0,\r\n]);\r\nroofGeometry.setAttribute('position', new THREE.BufferAttribute(roofVertices, 3));\r\nroofGeometry.computeVertexNormals()\r\n\r\n/* materials */\r\nconst houseMaterials = [\r\n    new THREE.MeshStandardMaterial({map : houseTextures[0], color: 0xffffff, side: THREE.DoubleSide}),\r\n    new THREE.MeshStandardMaterial({map : houseTextures[1], color: 0xffffff, side: THREE.DoubleSide}),\r\n    new THREE.MeshStandardMaterial({map : houseTextures[2], color: 0xffffff, side: THREE.DoubleSide}),\r\n    new THREE.MeshStandardMaterial({map : houseTextures[3], color: 0xffffff, side: THREE.DoubleSide})\r\n]\r\n\r\nconst roofMaterials = [\r\n    new THREE.MeshStandardMaterial({ color: 0xff4757 }),\r\n    new THREE.MeshStandardMaterial({ color: 0x0c2461 }),\r\n    new THREE.MeshStandardMaterial({ color: 0xf97f51 }),\r\n    new THREE.MeshStandardMaterial({ color: 0x3dc1d3 })\r\n]\r\n\r\n/* base objects */\r\nconst houseBase = [\r\n    new THREE.Mesh(houseGeometry, houseMaterials[0]),\r\n    new THREE.Mesh(houseGeometry, houseMaterials[1]),\r\n    new THREE.Mesh(houseGeometry, houseMaterials[2]),\r\n    new THREE.Mesh(houseGeometry, houseMaterials[3])\r\n]\r\n\r\nconst roofBase = [\r\n    new THREE.Mesh(roofGeometry, roofMaterials[0]),\r\n    new THREE.Mesh(roofGeometry, roofMaterials[1]),\r\n    new THREE.Mesh(roofGeometry, roofMaterials[2]),\r\n    new THREE.Mesh(roofGeometry, roofMaterials[3]),\r\n]\r\n\r\n/* shadows */\r\nhouseBase.forEach(e => {\r\n    e.castShadow = true\r\n    e.receiveShadow = true\r\n});\r\n\r\nroofBase.forEach(e => {\r\n    e.castShadow = true\r\n    e.receiveShadow = true\r\n});\r\n\r\n/* groups */\r\nconst house0 = new THREE.Group()\r\nconst house1 = new THREE.Group()\r\nconst house2 = new THREE.Group()\r\nconst house3 = new THREE.Group()\r\n\r\nhouse0.add(houseBase[0], roofBase[0])\r\nhouse1.add(houseBase[1], roofBase[1])\r\nhouse2.add(houseBase[2], roofBase[2])\r\nhouse3.add(houseBase[3], roofBase[3])\r\n\r\n/* positions */\r\nhouse0.position.set(-25, 2.5, -20)\r\nhouse1.position.set(0, 2.5, -20)\r\nhouse2.position.set(25, 2.5, -20)\r\nhouse3.position.set(25, 2.5, 20)\r\n\r\n/* adding to scene */\r\nscene.add(house0, house1, house2, house3)","//RENDER.JS\r\n\r\n/* render scene */\r\nrenderer.render(scene, camera);\r\n\r\n/* animation settings */\r\nfunction animate() {\r\n    requestAnimationFrame(animate);\r\n\r\n    // dobre/przetestowane wartosci\r\n    // daySpotLight.position.x = 100 * Math.sin(Date.now() / 4800)\r\n    // daySpotLight.position.y = 100 * Math.cos(Date.now() / 4800)\r\n\r\n    // nightSpotLight.position.x = -100 * Math.sin(Date.now() / 4800)\r\n    // nightSpotLight.position.y = -100 * Math.cos(Date.now() / 4800)\r\n    //\r\n\r\n    //te raczej tez\r\n    // if (daySpotLight.position.y < 70 && daySpotLight.position.x > 0) {\r\n    //     daySpotLight.intensity -= .002\r\n    //     if (daySpotLight.intensity < .0009 || daySpotLight.position.y < -20) {\r\n    //         daySpotLight.intensity = 0\r\n    //     }\r\n    //     // lanternsOn(daySpotLight.position.y);\r\n    // }\r\n    // if (daySpotLight.position.y > -20 && daySpotLight.position.x < 0) {\r\n    //     daySpotLight.intensity += .002\r\n    //     if (daySpotLight.intensity > .499) {\r\n    //         daySpotLight.intensity = .5\r\n    //     }\r\n    //     // lanternsOff(daySpotLight.position.y);\r\n    // }\r\n    // if (daySpotLight.position.y < -10)\r\n    //     daySpotLight.intensity = 0     \r\n    \r\n    // if (nightSpotLight.position.y < 70 && nightSpotLight.position.x > 0) {\r\n    //     nightSpotLight.intensity -= .001\r\n    //     if (nightSpotLight.intensity < .0009 || nightSpotLight.position.y < -20) {\r\n    //         nightSpotLight.intensity = 0\r\n    //     }\r\n    // }\r\n    // if (nightSpotLight.position.y > -20 && nightSpotLight.position.x < 0) {\r\n    //     nightSpotLight.intensity += .001\r\n    //     if (nightSpotLight.intensity > .249) {\r\n    //         nightSpotLight.intensity = .25\r\n    //     }\r\n    // }\r\n    // if (nightSpotLight.position.y < -10)\r\n    //     nightSpotLight.intensity = 0    \r\n    //\r\n    \r\n        \r\n        \r\n        \r\n    // console.log(nightSpotLight.intensity)\r\n        // console.log(daySpotLight.intensity)\r\n        // console.log(daySpotLight.position.y)\r\n    \r\n        // console.log(daySpotLight.intensity)\r\n    \r\n        // console.log(dayAmbientLight.intensity)\r\n        // console.log(daySpotLight.position.y)\r\n        // console.log(daySpotLight.position.x)\r\n    \r\n        // console.log(nightSpotLight.position.x)\r\n        // console.log(nightSpotLight.position.y)\r\n\r\n\r\n    \r\n\r\n    // if (daySpotLight.position.y < 75 && daySpotLight.position.y > -75) {\r\n\r\n    // }\r\n    // if (daySpotLight.intensity < 0) daySpotLight.intensity == 0\r\n    // else if (daySpotLight.position.y > -30 && daySpotLight.position.x < -60) {\r\n    //     if (daySpotLight.intensity > .05) daySpotLight.intensity == .05\r\n    //     daySpotLight.intensity += .05\r\n    // }\r\n    // if (daySpotLight.intensity < .05) daySpotLight.intensity = 0\r\n    // if (daySpotLight.intensity > .05) daySpotLight.intensity = .5\r\n\r\n\r\n\r\n    // nightSpotLight.position.x = -100 * Math.sin(Date.now() / 9600)\r\n    // nightSpotLight.position.y = -100 * Math.cos(Date.now() / 9600)\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // if (daySpotLight.position.y < 40) {\r\n    //     if (daySpotLight.intensity > .01) {\r\n    //         daySpotLight.intensity -= .005\r\n    //         // dayAmbientLight.intensity -= .005\r\n    //     }\r\n    //     else {\r\n    //         daySpotLight.intensity = 0\r\n    //         // dayAmbientLight.intensity = 0\r\n    //     }\r\n    // }\r\n    // else if (daySpotLight.position.y > -40) {\r\n    //     if (daySpotLight.intensity > .74) {\r\n    //         daySpotLight.intensity = .75\r\n    //         // dayAmbientLight.intensity = .5\r\n    //     }\r\n    //     else {\r\n    //         daySpotLight.intensity += .005\r\n    //         // dayAmbientLight.intensity += .005\r\n    //     }\r\n    // }\r\n\r\n    // if (nightSpotLight.position.y < 40) {\r\n    //     if (nightSpotLight.intensity > .01) {\r\n    //         nightSpotLight.intensity -= .0025\r\n    //         nightAmbientLight.intensity -= .0025\r\n    //     }\r\n    //     else {\r\n    //         nightSpotLight.intensity = 0\r\n    //         nightAmbientLight.intensity = 0\r\n    //     }\r\n    // }\r\n    // else if (nightSpotLight.position.y > -40) {\r\n    //     if (nightSpotLight.intensity > .74) {\r\n    //         nightSpotLight.intensity = .75\r\n    //         nightAmbientLight.intensity = .5\r\n    //     }\r\n    //     else {\r\n    //         nightSpotLight.intensity += .0025\r\n    //         nightAmbientLight.intensity += .0025\r\n    //     }\r\n    // }\r\n\r\n    // if (nightSpotLight.position.y > -10) {\r\n    //     if (nightSpotLight.intensity > .74)\r\n    //         nightSpotLight.intensity = .75\r\n    //     else nightSpotLight.intensity += .025\r\n    // }\r\n    // else if (nightSpotLight.position.y < 10) {\r\n    //     if (nightSpotLight.intensity > .01)\r\n    //         nightSpotLight.intensity -= .025\r\n    //     else nightSpotLight.intensity = 0\r\n    // }\r\n\r\n    // console.log(lanternsBulbsArray[0].children)\r\n\r\n    controls.update();\r\n    renderer.render(scene, camera);\r\n}\r\n\r\nfunction lanternsOff(y){\r\n    lanternsBulbsArray.forEach(e => {\r\n        if(e.intensity <= .01225 || y > 10) e.intensity = 0\r\n        else e.intensity -= .01225;\r\n    });\r\n    lanternsArray.forEach(e => {\r\n        if(e.children[3].material.opacity <= .1) e.children[3].material.opacity = .1;\r\n        else e.children[3].material.opacity -= .00225;\r\n        //if(f.material.opacity >= 1) f.material.opacity = 1\r\n        //else f.material.opacity += .05;\r\n    });\r\n    // lanternsArray.forEach(e => {\r\n    //     e.children.forEach(f => {\r\n    //         if(f.material.opacity <= .15) f.material.opacity = .1\r\n    //         else f.material.opacity -= .05;\r\n    //     });\r\n    // });\r\n}\r\n\r\nfunction lanternsOn(y){\r\n    lanternsBulbsArray.forEach(e => {\r\n        if(e.intensity >= .84 || y < -20) e.intensity = .85\r\n        else e.intensity += .01225;\r\n    });\r\n    lanternsArray.forEach(e => {\r\n        if(e.children[3].material.opacity >= 1) e.children[3].material.opacity = 1;\r\n        else e.children[3].material.opacity += .00225;\r\n        //if(f.material.opacity >= 1) f.material.opacity = 1\r\n        //else f.material.opacity += .05;\r\n    });\r\n    // lanternsArray.forEach(e => {\r\n    //     e.children.forEach(f => {\r\n    //         if(f.material.opacity >= 1) f.material.opacity = 1\r\n    //         else f.material.opacity += .05;\r\n    //     });\r\n    // });\r\n}\r\n\r\nanimate();"]}